  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateApplications (20220419020139)
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `name` varchar(255), `chats_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[35m (127.7ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (1063.3ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (656.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateApplications (20220419020139)
  [1m[35m (471.4ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `name` varchar(255), `chats_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020139')[0m
  [1m[36mTRANSACTION (93.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20220419020318)
  [1m[35m (657.9ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `messages_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_chats_on_application_id` (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020318')[0m
  [1m[36mTRANSACTION (107.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20220419020345)
  [1m[35m (482.2ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `chat_id` bigint NOT NULL, `message_body` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_messages_on_chat_id` (`chat_id`), CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020345')[0m
  [1m[36mTRANSACTION (96.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2022-04-19 02:38:34.116769', '2022-04-19 02:38:34.116769')[0m
  [1m[36mTRANSACTION (83.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/applications" for 127.0.0.1 at 2022-04-19 04:44:39 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#index as HTML
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 15675)


  
NameError (uninitialized constant ApplicationsController::Applications
Did you mean?  ApplicationJob):
  
app/controllers/applications_controller.rb:3:in `index'
Started GET "/applications" for 127.0.0.1 at 2022-04-19 04:45:02 +0200
Processing by ApplicationsController#index as HTML
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:4:in `index'
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.4ms | Allocations: 3937)


Started GET "/" for ::1 at 2022-04-19 05:22:49 +0200
Processing by Rails::WelcomeController#index as */*
  Rendering /home/omar/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.2.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/omar/.rbenv/versions/3.0.4/lib/ruby/gems/3.0.0/gems/railties-7.0.2.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.4ms | Allocations: 411)
Completed 200 OK in 9ms (Views: 3.1ms | Allocations: 4259)


Started GET "/applications" for ::1 at 2022-04-19 05:23:01 +0200
Processing by ApplicationsController#index as */*
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:4:in `index'
Completed 200 OK in 12ms (Views: 3.1ms | ActiveRecord: 0.7ms | Allocations: 2845)


Started POST "/applications" for ::1 at 2022-04-19 05:23:33 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "application"=>{}}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.7ms | Allocations: 2031)


  
NameError (undefined local variable or method `application_params' for #<ApplicationsController:0x0000000000fb18>
Did you mean?  application_path
               application_url
               applications_path):
  
app/controllers/applications_controller.rb:7:in `create'
Started POST "/applications" for ::1 at 2022-04-19 05:24:48 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 17149)


  
NameError (undefined local variable or method `application_params' for #<ApplicationsController:0x00000000008958>
Did you mean?  application_path
               application_url
               applications_path):
  
app/controllers/applications_controller.rb:7:in `create'
Started POST "/applications" for ::1 at 2022-04-19 05:26:02 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 277)


Started POST "/applications" for ::1 at 2022-04-19 05:27:41 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 269)


Started POST "/applications" for ::1 at 2022-04-19 05:28:40 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 848)


  
NoMethodError (undefined method `Name' for #<ActionController::Parameters {"Name"=>"app1", "controller"=>"applications", "action"=>"create"} permitted: false>):
  
app/controllers/applications_controller.rb:7:in `create'
Started POST "/applications" for ::1 at 2022-04-19 05:28:55 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 255)


Started POST "/applications" for ::1 at 2022-04-19 05:29:01 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 231)


Started POST "/applications" for ::1 at 2022-04-19 05:29:11 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 211)


Started POST "/applications" for ::1 at 2022-04-19 05:31:27 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app1"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('Y6vr8Xo8Ws65S1ztuLTPiekt', 'app1', NULL, '2022-04-19 03:31:27.665352', '2022-04-19 03:31:27.665352')[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
  [1m[36mTRANSACTION (97.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
Completed 200 OK in 117ms (Views: 0.4ms | ActiveRecord: 101.7ms | Allocations: 10326)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to SetCountsDefaultValue (20220419033725)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to SetCountsDefaultValue (20220419033725)
  [1m[35m (187.2ms)[0m  [1m[35mALTER TABLE `applications` CHANGE `chats_count` `chats_count` int DEFAULT 0[0m
  [1m[35m (153.3ms)[0m  [1m[35mALTER TABLE `chats` CHANGE `messages_count` `messages_count` int DEFAULT 0[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419033725')[0m
  [1m[36mTRANSACTION (214.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/applications" for ::1 at 2022-04-19 05:43:38 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#index as */*
  Parameters: {"Name"=>"app1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:4:in `index'
Completed 200 OK in 25ms (Views: 6.9ms | ActiveRecord: 3.9ms | Allocations: 21539)


Started POST "/applications" for ::1 at 2022-04-19 05:43:50 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app2"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
  [1m[36mApplication Create (0.4ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('u6yzgR1sh58E7bG8bXv9Gf3u', 'app2', 0, '2022-04-19 03:43:50.561308', '2022-04-19 03:43:50.561308')[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
  [1m[36mTRANSACTION (70.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:9:in `create'
Completed 200 OK in 80ms (Views: 0.3ms | ActiveRecord: 71.3ms | Allocations: 2809)


Started POST "/applications?name=updateapp" for ::1 at 2022-04-19 05:50:38 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:13: syntax error, unexpected '=', expecting `end'
		=begin
		^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:20: syntax error, unexpected '=', expecting `end'
		=end
		^
):
  
app/controllers/applications_controller.rb:13: syntax error, unexpected '=', expecting `end'
app/controllers/applications_controller.rb:20: syntax error, unexpected '=', expecting `end'
app/controllers/applications_controller.rb:13: syntax error, unexpected '=', expecting `end'
app/controllers/applications_controller.rb:20: syntax error, unexpected '=', expecting `end'
Started POST "/applications?name=updateapp" for ::1 at 2022-04-19 05:51:26 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app2", "name"=>"updateapp"}
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 15357)


Started POST "/applications?name=updateapp" for ::1 at 2022-04-19 05:51:46 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app2", "name"=>"updateapp"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 212)


Started PATCH "/applications?name=updateapp" for ::1 at 2022-04-19 05:52:47 +0200
  
ActionController::RoutingError (No route matches [PATCH] "/applications"):
  
Started PATCH "/applications/updateapp" for ::1 at 2022-04-19 05:53:35 +0200
Processing by ApplicationsController#update as */*
  Parameters: {"Name"=>"app2", "id"=>"updateapp"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 208)


Started PATCH "/applications/2" for ::1 at 2022-04-19 05:54:14 +0200
Processing by ApplicationsController#update as */*
  Parameters: {"Name"=>"app2", "id"=>"2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 83)


Started PATCH "/applications/2" for ::1 at 2022-04-19 06:00:58 +0200
Processing by ApplicationsController#update as */*
  Parameters: {"Name"=>"app3", "id"=>"2"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:25:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'app3', `applications`.`updated_at` = '2022-04-19 04:00:58.936016' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
  [1m[36mTRANSACTION (102.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
Completed 204 No Content in 124ms (ActiveRecord: 106.0ms | Allocations: 11939)


Started GET "/applications/" for ::1 at 2022-04-19 06:01:04 +0200
Processing by ApplicationsController#index as */*
  Parameters: {"Name"=>"app3"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.6ms | Allocations: 1183)


Started PATCH "/applications/2" for ::1 at 2022-04-19 06:01:30 +0200
Processing by ApplicationsController#update as */*
  Parameters: {"Name"=>"app2", "id"=>"2"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:25:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'app2', `applications`.`updated_at` = '2022-04-19 04:01:30.589147' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
  [1m[36mTRANSACTION (83.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:26:in `update'
Completed 204 No Content in 89ms (ActiveRecord: 83.9ms | Allocations: 2562)


Started GET "/applications/" for ::1 at 2022-04-19 06:01:34 +0200
Processing by ApplicationsController#index as */*
  Parameters: {"Name"=>"app2"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms | Allocations: 908)


Started POST "/applications/" for ::1 at 2022-04-19 06:15:46 +0200
Processing by ApplicationsController#create as */*
  Parameters: {"Name"=>"app3"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:13:in `create'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('LmRK76FGB8yLnpz5i1sdfKVt', 'app3', 0, '2022-04-19 04:15:46.862995', '2022-04-19 04:15:46.862995')[0m
  â†³ app/controllers/applications_controller.rb:13:in `create'
  [1m[36mTRANSACTION (152.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:13:in `create'
Completed 200 OK in 163ms (Views: 0.5ms | ActiveRecord: 153.9ms | Allocations: 5573)


Started PATCH "/applications/1" for ::1 at 2022-04-19 06:22:15 +0200
Processing by ApplicationsController#update as */*
  Parameters: {"Name"=>"app1", "id"=>"1"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:24:in `update'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 4379)


Started GET "/applications/" for ::1 at 2022-04-19 06:41:00 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#index as */*
  Parameters: {"Name"=>"app1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `index'
Completed 200 OK in 66ms (Views: 20.5ms | ActiveRecord: 6.4ms | Allocations: 21728)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:41:07 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 404 Not Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1675)


  
ActiveRecord::RecordNotFound (Couldn't find Application with 'id'={:token=>"Y6vr8Xo8Ws65S1ztuLTPiekt"}):
  
app/controllers/applications_controller.rb:31:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:41:32 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 404 Not Found in 11ms (ActiveRecord: 3.2ms | Allocations: 3162)


  
ActiveRecord::RecordNotFound (Couldn't find Application with 'id'={:token=>"Y6vr8Xo8Ws65S1ztuLTPiekt"}):
  
app/controllers/applications_controller.rb:31:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:42:02 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 404 Not Found in 9ms (ActiveRecord: 3.9ms | Allocations: 3153)


  
ActiveRecord::RecordNotFound (Couldn't find Application with 'id'={:token=>"Y6vr8Xo8Ws65S1ztuLTPiekt"}):
  
app/controllers/applications_controller.rb:31:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:43:04 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = NULL LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 404 Not Found in 10ms (ActiveRecord: 3.6ms | Allocations: 3154)


  
ActiveRecord::RecordNotFound (Couldn't find Application with 'id'={:token=>"Y6vr8Xo8Ws65S1ztuLTPiekt"}):
  
app/controllers/applications_controller.rb:31:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:43:27 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:32: syntax error, unexpected local variable or method, expecting `then' or ';' or '\n'
		if @application is nil
		                ^~
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:34: else without rescue is useless
		else
		^~~~
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:38: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/applications_controller.rb:32: syntax error, unexpected local variable or method, expecting `then' or ';' or '\n'
app/controllers/applications_controller.rb:34: else without rescue is useless
app/controllers/applications_controller.rb:38: syntax error, unexpected `end', expecting end-of-input
app/controllers/applications_controller.rb:32: syntax error, unexpected local variable or method, expecting `then' or ';' or '\n'
app/controllers/applications_controller.rb:34: else without rescue is useless
app/controllers/applications_controller.rb:38: syntax error, unexpected `end', expecting end-of-input
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:46:12 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:31: syntax error, unexpected '}', expecting ')'
...cation.where("token:#{@token}"})
...                              ^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:35: syntax error, unexpected '}', expecting '}'
... application with this token.`}, status:400
...                              ^
):
  
app/controllers/applications_controller.rb:31: syntax error, unexpected '}', expecting ')'
app/controllers/applications_controller.rb:35: syntax error, unexpected '}', expecting '}'
app/controllers/applications_controller.rb:31: syntax error, unexpected '}', expecting ')'
app/controllers/applications_controller.rb:35: syntax error, unexpected '}', expecting '}'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:46:48 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE (token:Y6vr8Xo8Ws65S1ztuLTPiekt)[0m
  â†³ app/controllers/applications_controller.rb:33:in `getAppByToken'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 2824)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':Y6vr8Xo8Ws65S1ztuLTPiekt)' at line 1):
  
app/controllers/applications_controller.rb:33:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:47:11 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE (token:'Y6vr8Xo8Ws65S1ztuLTPiekt')[0m
  â†³ app/controllers/applications_controller.rb:33:in `getAppByToken'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms | Allocations: 2786)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':'Y6vr8Xo8Ws65S1ztuLTPiekt')' at line 1):
  
app/controllers/applications_controller.rb:33:in `getAppByToken'
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 06:49:23 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 13ms (Views: 1.0ms | ActiveRecord: 3.6ms | Allocations: 4475)


Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:00:55 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:12: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:12: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:12: syntax error, unexpected end-of-input, expecting `end'
Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:01:11 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
Completed 500 Internal Server Error in 60ms (ActiveRecord: 3.5ms | Allocations: 9312)


  
ActiveModel::UnknownAttributeError (unknown attribute 'app_id' for Chat.):
  
app/controllers/chats_controller.rb:5:in `create'
Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:01:51 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 5.9ms | Allocations: 9293)


  
NoMethodError (undefined method `chat_count' for #<Application id: 1, token: [FILTERED], name: "app1", chats_count: nil, created_at: "2022-04-19 03:31:27.665352000 +0000", updated_at: "2022-04-19 03:31:27.665352000 +0000">
Did you mean?  chats_count
               chats_count?
               chats_count=):
  
app/controllers/chats_controller.rb:6:in `create'
Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:02:47 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 5.5ms | Allocations: 7093)


  
ActiveModel::UnknownAttributeError (unknown attribute 'chat_count' for Application.):
  
app/controllers/chats_controller.rb:6:in `create'
Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:02:57 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-19 05:02:57.896732' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mTRANSACTION (148.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mChat Create (7.0ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (1, 0, '2022-04-19 05:02:58.193973', '2022-04-19 05:02:58.193973')[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mTRANSACTION (87.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
Completed 200 OK in 414ms (Views: 0.4ms | ActiveRecord: 251.3ms | Allocations: 17124)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:03:05 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 906)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:03:13 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 3.4ms | Allocations: 4391)


Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:03:18 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 3.6ms | Allocations: 5736)


  
NoMethodError (undefined method `chat_count' for #<Application id: 1, token: [FILTERED], name: "app1", chats_count: 1, created_at: "2022-04-19 03:31:27.665352000 +0000", updated_at: "2022-04-19 05:02:57.896732000 +0000">
Did you mean?  chats_count
               chats_count?
               chats_count=):
  
app/controllers/chats_controller.rb:6:in `create'
Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:05:05 +0200
Processing by ChatsController#create as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-19 05:05:05.537712' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mTRANSACTION (167.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (1, 0, '2022-04-19 05:05:05.713837', '2022-04-19 05:05:05.713837')[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
  [1m[36mTRANSACTION (93.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `create'
Completed 200 OK in 292ms (Views: 0.4ms | ActiveRecord: 268.8ms | Allocations: 12472)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 07:05:10 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 904)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 07:15:53 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/config/routes.rb:11: syntax error, unexpected string literal, expecting `do' or '{' or '('
...pplications/:token/chats", to "chats#getAllChats"
...                              ^
):
  
config/routes.rb:11: syntax error, unexpected string literal, expecting `do' or '{' or '('
config/routes.rb:11: syntax error, unexpected string literal, expecting `do' or '{' or '('
Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 07:17:00 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats`[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 4039)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 07:20:39 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 23ms (Views: 4.4ms | ActiveRecord: 6.9ms | Allocations: 7880)


Started GET "/applications/" for ::1 at 2022-04-19 07:20:58 +0200
Processing by ApplicationsController#getAllApplications as */*
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 1271)


Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u/chats" for ::1 at 2022-04-19 07:21:09 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.9ms | Allocations: 1255)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 07:21:16 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 7ms (Views: 3.6ms | ActiveRecord: 0.9ms | Allocations: 1378)


Started POST "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 07:22:01 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-19 05:22:01.689337' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (154.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (2, 0, '2022-04-19 05:22:01.852692', '2022-04-19 05:22:01.852692')[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (100.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 200 OK in 271ms (Views: 0.3ms | ActiveRecord: 256.8ms | Allocations: 6097)


Started GET "/applications/" for ::1 at 2022-04-19 07:22:16 +0200
Processing by ApplicationsController#getAllApplications as */*
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms | Allocations: 1003)


Started POST "/applications/u6yzgR1sh58E7bG8bXv9Gf3u/chats" for ::1 at 2022-04-19 07:22:32 +0200
  
ActionController::RoutingError (No route matches [POST] "/applications/u6yzgR1sh58E7bG8bXv9Gf3u/chats"):
  
Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u/chats" for ::1 at 2022-04-19 07:22:37 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.8ms | Allocations: 1303)


Started GET "/messages/1" for ::1 at 2022-04-19 07:36:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"chatId"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 52ms (Views: 3.2ms | ActiveRecord: 0.6ms | Allocations: 2866)


Started GET "/messages/1" for ::1 at 2022-04-19 07:37:35 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"chatId"=>"1"}
  [1m[36mMessage Exists? (11.1ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 3090)


Started GET "/messages/1" for ::1 at 2022-04-19 14:46:48 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"chatId"=>"1"}
  [1m[36mMessage Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 2993)


Started POST "/messages/1" for ::1 at 2022-04-19 15:14:35 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello world", "chatId"=>"1"}
Completed 204 No Content in 20ms (Allocations: 124)


Started POST "/messages/1" for ::1 at 2022-04-19 15:15:02 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 39)


Started POST "/messages/1" for ::1 at 2022-04-19 15:15:26 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 113)


Started POST "/messages/1" for ::1 at 2022-04-19 15:15:34 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"     ", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 40)


Started POST "/messages/1" for ::1 at 2022-04-19 15:17:11 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"     ", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 112)


Started POST "/messages/1" for ::1 at 2022-04-19 15:17:19 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"     s", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 39)


Started POST "/messages/1" for ::1 at 2022-04-19 15:18:48 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"     s", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 112)


Started POST "/messages/1" for ::1 at 2022-04-19 15:18:56 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"     ", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 41)


Started POST "/messages/1" for ::1 at 2022-04-19 15:19:07 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"s              ", "chatId"=>"1"}
Completed 204 No Content in 0ms (Allocations: 40)


Started POST "/messages/1" for ::1 at 2022-04-19 15:21:17 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 500 Internal Server Error in 103ms (ActiveRecord: 3.1ms | Allocations: 4857)


  
ActiveModel::UnknownAttributeError (unknown attribute 'messageBody' for Message.):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-19 15:21:36 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 3246)


Started GET "/messages/1" for ::1 at 2022-04-19 15:22:17 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1013)


Started POST "/messages/1" for ::1 at 2022-04-19 15:24:23 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 50ms (Views: 38.4ms | ActiveRecord: 3.9ms | Allocations: 3287)


Started GET "/messages/1" for ::1 at 2022-04-19 15:24:33 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1005)


Started GET "/messages/1" for ::1 at 2022-04-19 15:24:56 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 3021)


Started POST "/messages/1" for ::1 at 2022-04-19 15:27:43 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 3284)


Started GET "/messages/1" for ::1 at 2022-04-19 15:27:50 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 1005)


Started POST "/messages/1" for ::1 at 2022-04-19 15:27:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)


Started POST "/messages/1" for ::1 at 2022-04-19 15:28:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 3274)


Started POST "/messages/1" for ::1 at 2022-04-19 15:30:42 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 3.1ms | Allocations: 3346)


Started GET "/applications/" for ::1 at 2022-04-19 15:31:33 +0200
Processing by ApplicationsController#getAllApplications as */*
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 48ms (Views: 4.2ms | ActiveRecord: 2.4ms | Allocations: 4189)


Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:33:00 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 894)


Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:33:23 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 661)


Started POST "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:33:48 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (11.7ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-19 13:33:48.879978' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (122.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.8ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (2, 0, '2022-04-19 13:33:49.022552', '2022-04-19 13:33:49.022552')[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (115.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 200 OK in 301ms (Views: 0.4ms | ActiveRecord: 253.5ms | Allocations: 9036)


Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:33:55 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 690)


Started POST "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:34:00 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 3, `applications`.`updated_at` = '2022-04-19 13:34:00.011420' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (105.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (2, 0, '2022-04-19 13:34:00.124979', '2022-04-19 13:34:00.124979')[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (183.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 200 OK in 302ms (Views: 0.3ms | ActiveRecord: 290.9ms | Allocations: 5366)


Started GET "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:34:03 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:31:in `getAppByToken'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 661)


Started POST "/applications/u6yzgR1sh58E7bG8bXv9Gf3u" for ::1 at 2022-04-19 15:34:14 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'u6yzgR1sh58E7bG8bXv9Gf3u' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 4, `applications`.`updated_at` = '2022-04-19 13:34:14.557358' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (75.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (2, 0, '2022-04-19 13:34:14.640985', '2022-04-19 13:34:14.640985')[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (88.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 200 OK in 178ms (Views: 0.3ms | ActiveRecord: 166.0ms | Allocations: 5371)


Started POST "/messages/1" for ::1 at 2022-04-19 15:38:26 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 28ms (Views: 0.3ms | ActiveRecord: 22.7ms | Allocations: 3283)


Started POST "/messages/2" for ::1 at 2022-04-19 15:38:30 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"2"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 167)


Started POST "/messages/1" for ::1 at 2022-04-19 15:38:38 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 147)


Started POST "/messages/1" for ::1 at 2022-04-19 15:38:39 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 147)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 15:39:12 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 23ms (Views: 6.0ms | ActiveRecord: 6.4ms | Allocations: 7537)


Started GET "/messages/1" for ::1 at 2022-04-19 15:39:25 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 941)


Started GET "/messages/1" for ::1 at 2022-04-19 15:39:54 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 500 Internal Server Error in 11ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 2782)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:9:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-19 15:40:07 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 2679)


Started POST "/messages/1" for ::1 at 2022-04-19 15:45:58 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 112ms (Views: 0.5ms | ActiveRecord: 103.5ms | Allocations: 3495)


Started POST "/messages/1" for ::1 at 2022-04-19 15:46:02 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBodys"=>"Hello from first message", "chatId"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 575)


  
NoMethodError (undefined method `strip' for nil:NilClass):
  
app/controllers/messages_controller.rb:14:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-19 15:46:34 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBodys"=>"Hello from first message", "chatId"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 613)


  
NoMethodError (undefined method `strip!' for nil:NilClass):
  
app/controllers/messages_controller.rb:14:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-19 15:46:52 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBodys"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 245)


Started POST "/messages/1" for ::1 at 2022-04-19 15:47:50 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBodys"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 245)


Started POST "/messages/1" for ::1 at 2022-04-19 15:47:56 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 24.3ms | Allocations: 3216)


Started POST "/messages/1" for ::1 at 2022-04-19 15:47:59 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message                 ", "chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 166)


Started POST "/messages/1" for ::1 at 2022-04-19 15:48:08 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"             Hello from first message      ", "chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 147)


Started POST "/messages/1" for ::1 at 2022-04-19 16:16:50 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:21: syntax error, unexpected `else', expecting `end'
        else
        ^~~~
/home/omar/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:26: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/messages_controller.rb:21: syntax error, unexpected `else', expecting `end'
app/controllers/messages_controller.rb:26: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:21: syntax error, unexpected `else', expecting `end'
app/controllers/messages_controller.rb:26: syntax error, unexpected end-of-input, expecting `end'
Started POST "/messages/1" for ::1 at 2022-04-19 16:17:01 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`) VALUES (1, 'Hello from first message', '2022-04-19 14:17:01.961367', '2022-04-19 14:17:01.961367')[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mTRANSACTION (90.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
Completed 200 OK in 151ms (Views: 0.3ms | ActiveRecord: 118.3ms | Allocations: 9229)


Started GET "/messages/1" for ::1 at 2022-04-19 16:21:22 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.8ms | Allocations: 1691)


Started GET "/applications" for ::1 at 2022-04-19 16:41:35 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
			render json {error: 'Please enter application na...
			                  ^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
...Please enter application name'}
...                              ^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'
app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications" for ::1 at 2022-04-19 16:42:17 +0200
  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
			render json {error: 'Please enter application na...
			                  ^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
...Please enter application name'}
...                              ^
/home/omar/Instabug-Backend-Challenge/app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'
app/controllers/applications_controller.rb:20: syntax error, unexpected ':', expecting '}'
app/controllers/applications_controller.rb:20: syntax error, unexpected '}', expecting `end'
app/controllers/applications_controller.rb:42: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications" for ::1 at 2022-04-19 16:42:37 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"app1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 80ms (Views: 76.1ms | ActiveRecord: 51.0ms | Allocations: 4638)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 16:43:12 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"app1", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 894)


Started POST "/applications/" for ::1 at 2022-04-19 16:44:03 +0200
Processing by ApplicationsController#createApplication as */*
  Parameters: {"Name"=>"TestApp"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('VAjwup5Rd4KpbYWJ9TQmxjk4', 'TestApp', 0, '2022-04-19 14:44:03.889916', '2022-04-19 14:44:03.889916')[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mTRANSACTION (112.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
Completed 200 OK in 123ms (Views: 0.2ms | ActiveRecord: 113.0ms | Allocations: 2206)


Started GET "/applications/" for ::1 at 2022-04-19 16:44:08 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"TestApp"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.4ms | Allocations: 1099)


Started PATCH "/applications/" for ::1 at 2022-04-19 16:44:32 +0200
Processing by ApplicationsController#updateApplication as */*
  Parameters: {"Name"=>"HebaApp"}
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 156)


  
ActiveRecord::RecordNotFound (Couldn't find Application without an ID):
  
app/controllers/applications_controller.rb:28:in `updateApplication'
Started PATCH "/applications/4" for ::1 at 2022-04-19 16:45:00 +0200
Processing by ApplicationsController#updateApplication as */*
  Parameters: {"Name"=>"HebaApp", "id"=>"4"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:28:in `updateApplication'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'HebaApp', `applications`.`updated_at` = '2022-04-19 14:45:00.311290' WHERE `applications`.`id` = 4[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
  [1m[36mTRANSACTION (58.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 63.8ms | Allocations: 6403)


Started GET "/applications/4" for ::1 at 2022-04-19 16:45:04 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"HebaApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (2.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = '4' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 400 Bad Request in 20ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 737)


Started GET "/applications/" for ::1 at 2022-04-19 16:45:07 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"HebaApp"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.6ms | Allocations: 1148)


Started PATCH "/applications/4" for ::1 at 2022-04-19 16:45:23 +0200
Processing by ApplicationsController#updateApplication as */*
  Parameters: {"Name"=>"TestApp", "id"=>"4"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:28:in `updateApplication'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
  [1m[36mApplication Update (4.6ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`name` = 'TestApp', `applications`.`updated_at` = '2022-04-19 14:45:23.257993' WHERE `applications`.`id` = 4[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
  [1m[36mTRANSACTION (179.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:29:in `updateApplication'
Completed 200 OK in 191ms (Views: 0.2ms | ActiveRecord: 184.9ms | Allocations: 2517)


Started GET "/applications/" for ::1 at 2022-04-19 16:47:02 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"TestApp"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.4ms | Allocations: 1099)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:47:15 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 24ms (Views: 11.4ms | ActiveRecord: 4.0ms | Allocations: 4440)


Started POST "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt" for ::1 at 2022-04-19 16:47:39 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 3, `applications`.`updated_at` = '2022-04-19 14:47:39.756731' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (71.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`) VALUES (1, 0, '2022-04-19 14:47:39.838461', '2022-04-19 14:47:39.838461')[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (92.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 200 OK in 187ms (Views: 0.3ms | ActiveRecord: 165.8ms | Allocations: 5993)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:47:49 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 4ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 1456)


Started GET "/messages/1" for ::1 at 2022-04-19 16:51:29 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
  [1m[36mMessage Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 34ms (Views: 12.1ms | ActiveRecord: 9.6ms | Allocations: 4916)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:57:07 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (13.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 236ms (Views: 11.2ms | ActiveRecord: 9.3ms | Allocations: 28176)


Started GET "/messages/2" for ::1 at 2022-04-19 16:57:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"2"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 2) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 42ms (Views: 1.4ms | ActiveRecord: 2.3ms | Allocations: 2855)


Started GET "/messages/3" for ::1 at 2022-04-19 16:57:25 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"3"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 648)


Started GET "/messages/4" for ::1 at 2022-04-19 16:57:28 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"4"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 4) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 625)


Started GET "/messages/5" for ::1 at 2022-04-19 16:57:31 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"5"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 5) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 625)


Started GET "/messages/6" for ::1 at 2022-04-19 16:57:34 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"6"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 6) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 615)


Started GET "/messages/7" for ::1 at 2022-04-19 16:57:37 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"7"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 7) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 615)


Started GET "/messages/8" for ::1 at 2022-04-19 16:57:39 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"8"}
  [1m[36mMessage Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 8) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 615)


Started GET "/messages/80000" for ::1 at 2022-04-19 16:57:42 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello from first message", "chatId"=>"80000"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 80000) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 615)


Started POST "/messages/1" for ::1 at 2022-04-19 16:58:13 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from second message", "chatId"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-19 14:58:13.649063' WHERE `chats`.`id` = 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (98.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`) VALUES (1, 'Hello from second message', '2022-04-19 14:58:13.763584', '2022-04-19 14:58:13.763584')[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mTRANSACTION (86.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
Completed 200 OK in 325ms (Views: 0.2ms | ActiveRecord: 199.6ms | Allocations: 21317)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:58:21 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (4.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 23ms (Views: 11.3ms | ActiveRecord: 5.5ms | Allocations: 1944)


Started GET "/messages/1" for ::1 at 2022-04-19 16:58:31 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (35.1ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 75ms (Views: 8.2ms | ActiveRecord: 35.7ms | Allocations: 1765)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:59:08 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 12ms (Views: 6.0ms | ActiveRecord: 1.2ms | Allocations: 1457)


Started POST "/messages/1" for ::1 at 2022-04-19 16:59:28 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello from third message", "chatId"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mChat Update (2.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 3, `chats`.`updated_at` = '2022-04-19 14:59:28.928564' WHERE `chats`.`id` = 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (186.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`) VALUES (1, 'Hello from third message', '2022-04-19 14:59:29.130700', '2022-04-19 14:59:29.130700')[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mTRANSACTION (92.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
Completed 200 OK in 325ms (Views: 0.3ms | ActiveRecord: 284.1ms | Allocations: 6335)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 16:59:34 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 13ms (Views: 5.8ms | ActiveRecord: 1.0ms | Allocations: 1455)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 19:54:43 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (16.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (17.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 314ms (Views: 5.5ms | ActiveRecord: 101.0ms | Allocations: 28168)


Started GET "/applications/Y6vr8Xo8Ws65S1ztuLTPiekt/chats" for ::1 at 2022-04-19 19:56:35 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"TestApp", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'Y6vr8Xo8Ws65S1ztuLTPiekt' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:16:in `getAllChats'
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `getAllChats'
Completed 200 OK in 27ms (Views: 6.6ms | ActiveRecord: 8.7ms | Allocations: 7985)


Started GET "/messages/1" for ::1 at 2022-04-19 19:56:49 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 294)


  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/models/message.rb:13: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/message.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/models/message.rb:13: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-19 19:57:06 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 2.6ms | Allocations: 5359)


  
NoMethodError (undefined method `parent_name' for InstabugBackendChallenge::Application:Class):
  
app/models/message.rb:6:in `<class:Message>'
app/models/message.rb:1:in `<main>'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-19 20:00:07 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
Completed 500 Internal Server Error in 35ms (ActiveRecord: 2.5ms | Allocations: 8506)


  
NameError (undefined local variable or method `instabug_challenge' for Message:Class
Did you mean?  instance_values):
  
app/models/message.rb:6:in `<class:Message>'
app/models/message.rb:1:in `<main>'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-19 20:00:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.9ms | Allocations: 8260)


  
NoMethodError (undefined method `setting' for Message:Class
Did you mean?  settings
               String):
  
app/models/message.rb:9:in `<class:Message>'
app/models/message.rb:1:in `<main>'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-19 20:00:35 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"TestApp", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 19ms (Views: 6.6ms | ActiveRecord: 4.0ms | Allocations: 8836)


Started GET "/chats/1/message/hell" for ::1 at 2022-04-19 20:15:52 +0200
Processing by MessagesController#searchInChat as */*
  Parameters: {"MessageBody"=>"Hello from third message", "chatId"=>"1", "messageBody"=>"hell"}
Completed 500 Internal Server Error in 1ms (Allocations: 375)


  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
  end
  ^~~
):
  
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/controllers/messages_controller.rb:33:in `searchInChat'
Started GET "/chats/1/message/hell" for ::1 at 2022-04-19 20:16:31 +0200
Processing by MessagesController#searchInChat as */*
  Parameters: {"MessageBody"=>"Hello from third message", "chatId"=>"1", "messageBody"=>"hell"}
Completed 500 Internal Server Error in 1ms (Allocations: 371)


  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
  end
  ^~~
):
  
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/controllers/messages_controller.rb:33:in `searchInChat'
Started GET "/chats/1/message/hell" for ::1 at 2022-04-19 20:16:46 +0200
Processing by MessagesController#searchInChat as */*
  Parameters: {"MessageBody"=>"Hello from third message", "chatId"=>"1", "messageBody"=>"hell"}
Completed 500 Internal Server Error in 1ms (Allocations: 370)


  
SyntaxError (/home/omar/Instabug-Backend-Challenge/app/models/message.rb:33: syntax error, unexpected `end', expecting ')'):
  
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/models/message.rb:33: syntax error, unexpected `end', expecting ')'
app/controllers/messages_controller.rb:33:in `searchInChat'
Started GET "/chats/1/message/hell" for ::1 at 2022-04-19 20:17:07 +0200
Processing by MessagesController#searchInChat as */*
  Parameters: {"MessageBody"=>"Hello from third message", "chatId"=>"1", "messageBody"=>"hell"}
Completed 500 Internal Server Error in 16ms (Allocations: 5513)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for "localhost" port 9200)):
  
app/controllers/messages_controller.rb:34:in `searchInChat'
Started GET "/applications" for ::1 at 2022-04-22 21:20:34 +0200
  
ActiveRecord::ConnectionNotEstablished (Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for ::1 at 2022-04-22 21:26:50 +0200
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: omar.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:49:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for ::1 at 2022-04-22 21:30:36 +0200
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: omar.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:49:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for ::1 at 2022-04-22 21:30:45 +0200
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: omar.

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:49:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (193.9ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8mb4`[0m
  [1m[35m (98.9ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_test` DEFAULT CHARACTER SET `utf8mb4`[0m
Started GET "/applications" for ::1 at 2022-04-22 21:45:38 +0200
  [1m[35m (453.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (487.0ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (89.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 4 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateApplications (20220419020139)
  [1m[35m (515.9ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `name` varchar(255), `chats_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020139')[0m
  [1m[36mTRANSACTION (160.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20220419020318)
  [1m[35m (1126.7ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `messages_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_chats_on_application_id` (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020318')[0m
  [1m[36mTRANSACTION (163.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20220419020345)
  [1m[35m (857.7ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `chat_id` bigint NOT NULL, `message_body` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_messages_on_chat_id` (`chat_id`), CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020345')[0m
  [1m[36mTRANSACTION (73.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetCountsDefaultValue (20220419033725)
  [1m[35m (178.1ms)[0m  [1m[35mALTER TABLE `applications` CHANGE `chats_count` `chats_count` int DEFAULT 0[0m
  [1m[35m (142.3ms)[0m  [1m[35mALTER TABLE `chats` CHANGE `messages_count` `messages_count` int DEFAULT 0[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419033725')[0m
  [1m[36mTRANSACTION (74.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2022-04-22 19:45:55.769572', '2022-04-22 19:45:55.769572')[0m
  [1m[36mTRANSACTION (70.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/applications" for ::1 at 2022-04-22 21:46:05 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 58ms (Views: 1.4ms | ActiveRecord: 0.6ms | Allocations: 6067)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddNumberToChatsMessages (20220422195344)
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE `chats` ADD `number` int NOT NULL AUTO_INCREMENT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to AddNumberToChatsMessages (20220422195344)
  [1m[35m (408.3ms)[0m  [1m[35mALTER TABLE `chats` ADD `number` int NOT NULL[0m
  [1m[35m (412.2ms)[0m  [1m[35mALTER TABLE `messages` ADD `number` int NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220422195344')[0m
  [1m[36mTRANSACTION (159.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started POST "/applications" for ::1 at 2022-04-22 22:06:06 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#createApplication as */*
  Parameters: {"Name"=>"First Application"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mApplication Create (0.4ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('qASiAM6P6F2HvUmLMwmqe7EP', 'First Application', 0, '2022-04-22 20:06:06.233914', '2022-04-22 20:06:06.233914')[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mTRANSACTION (63.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
Completed 200 OK in 96ms (Views: 0.3ms | ActiveRecord: 67.5ms | Allocations: 10951)


Started GET "/applications" for ::1 at 2022-04-22 22:06:44 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"First Application"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 1199)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-22 22:07:08 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 1482)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-22 22:07:15 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mApplication Update (0.8ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-22 20:07:15.592515' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (191.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:6:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mChat Create (0.7ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:07:15.937862', '2022-04-22 20:07:15.937862', NULL)[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
Completed 500 Internal Server Error in 411ms (ActiveRecord: 197.3ms | Allocations: 12660)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/chats_controller.rb:7:in `createChat'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-22 22:18:35 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mApplication Update (0.7ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-22 20:18:35.651610' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mTRANSACTION (207.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:9:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:9:in `createChat'
  [1m[36mChat Create (0.6ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:18:35.873193', '2022-04-22 20:18:35.873193', NULL)[0m
  â†³ app/controllers/chats_controller.rb:9:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:9:in `createChat'
Completed 500 Internal Server Error in 255ms (ActiveRecord: 214.8ms | Allocations: 11899)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/chats_controller.rb:9:in `createChat'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-22 22:23:30 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 5.7ms | Allocations: 3814)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-22 22:24:09 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 3.6ms | Allocations: 3838)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-22 22:24:44 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:35: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-22 22:24:56 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-22 22:25:18 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:32: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-22 22:26:00 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:26:38 +0200
  
ActionController::RoutingError (No route matches [GET] "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat"):
  
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:27:09 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:27:50 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:29:30 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:30:09 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:31:40 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-22 22:31:58 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/" for ::1 at 2022-04-22 22:34:02 +0200
Processing by ApplicationsController#getAllApplications as */*
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 3.9ms | Allocations: 3845)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:34:20 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 912)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:34:28 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:25: syntax error, unexpected end-of-input, expecting `end'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:34:49 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mApplication Update (0.9ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 3, `applications`.`updated_at` = '2022-04-22 20:34:49.312546' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (79.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:7:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:34:49.403893', '2022-04-22 20:34:49.403893', NULL)[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:8:in `createChat'
Completed 500 Internal Server Error in 122ms (ActiveRecord: 91.3ms | Allocations: 12358)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/chats_controller.rb:8:in `createChat'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:35:09 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 755)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:35:59 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.7ms | Allocations: 2178)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:36:09 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.4ms | Allocations: 4432)


  
NameError (undefined local variable or method `null' for #<ChatsController:0x00000000040c68>

        if @lastChat = null
                       ^^^^):
  
app/controllers/chats_controller.rb:25:in `getLastChat'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:36:29 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.0ms | Allocations: 2176)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:36:45 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.2ms | Allocations: 3020)


  
NoMethodError (undefined method `any' for nil:NilClass

        if @lastChat.any
                    ^^^^):
  
app/controllers/chats_controller.rb:25:in `getLastChat'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:36:54 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.2ms | Allocations: 2990)


  
NoMethodError (undefined method `empty' for nil:NilClass

        if @lastChat.empty
                    ^^^^^^):
  
app/controllers/chats_controller.rb:25:in `getLastChat'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/lastChat" for ::1 at 2022-04-22 22:37:20 +0200
Processing by ChatsController#getLastChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getLastChat'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 2176)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:37:56 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:36: syntax error, unexpected end-of-input, expecting `end'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:38:06 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 4, `applications`.`updated_at` = '2022-04-22 20:38:06.135399' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (144.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:38:06.291336', '2022-04-22 20:38:06.291336', NULL)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 500 Internal Server Error in 192ms (ActiveRecord: 157.1ms | Allocations: 12386)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/chats_controller.rb:13:in `createChat'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:38:18 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 5, `applications`.`updated_at` = '2022-04-22 20:38:19.022093' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (162.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.3ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:38:19.193727', '2022-04-22 20:38:19.193727', 1)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (104.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 304ms (Views: 0.4ms | ActiveRecord: 275.1ms | Allocations: 12390)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/" for ::1 at 2022-04-22 22:38:23 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.3ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 6, `applications`.`updated_at` = '2022-04-22 20:38:23.310484' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (67.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-22 20:38:23.384111', '2022-04-22 20:38:23.384111', 2)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (78.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 159ms (Views: 0.3ms | ActiveRecord: 147.8ms | Allocations: 5959)


Started POST "/messages/1" for ::1 at 2022-04-22 22:39:55 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"chatId"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 252)


Started POST "/messages/1" for ::1 at 2022-04-22 22:40:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"First Message", "chatId"=>"1"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-22 20:40:22.064834' WHERE `chats`.`id` = 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (73.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (1, 'First Message', '2022-04-22 20:40:22.147248', '2022-04-22 20:40:22.147248', 1)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (126.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 270ms (ActiveRecord: 213.3ms | Allocations: 19347)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-22 22:54:15 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"First Message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (3.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 20ms (Views: 5.2ms | ActiveRecord: 4.5ms | Allocations: 4849)


Started POST "/messages/1" for ::1 at 2022-04-22 22:54:28 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Second Message", "chatId"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-22 20:54:28.953810' WHERE `chats`.`id` = 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (75.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (1, 'Second Message', '2022-04-22 20:54:29.036996', '2022-04-22 20:54:29.036996', 2)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (216.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 327ms (ActiveRecord: 294.4ms | Allocations: 13133)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-22 22:55:03 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Second Message", "chatId"=>"1"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 1)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.8ms | Allocations: 1484)


Started GET "/applications/chats" for ::1 at 2022-04-22 22:55:32 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"First Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'chats' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 400 Bad Request in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1015)


Started GET "/applications/" for ::1 at 2022-04-22 22:55:46 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"First Application"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.3ms | Allocations: 900)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-22 22:55:54 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"First Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:25:in `getAllChats'
Completed 200 OK in 8ms (Views: 2.6ms | ActiveRecord: 1.3ms | Allocations: 2438)


Started GET "/applications/" for ::1 at 2022-04-22 23:11:19 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"First Application"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 0.4ms | Allocations: 3583)


Started POST "/applications/" for ::1 at 2022-04-22 23:11:33 +0200
Processing by ApplicationsController#createApplication as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mApplication Create (0.5ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('hh14rkDCY1LTwDmcEVrBoGvs', 'Second Application', 0, '2022-04-22 21:11:33.922876', '2022-04-22 21:11:33.922876')[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mTRANSACTION (113.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
Completed 200 OK in 121ms (Views: 0.2ms | ActiveRecord: 114.6ms | Allocations: 2230)


Started GET "/applications/" for ::1 at 2022-04-22 23:12:53 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 15ms (Views: 6.8ms | ActiveRecord: 4.6ms | Allocations: 3884)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-22 23:13:13 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:25:in `getAllChats'
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 4.1ms | Allocations: 4791)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-22 23:14:11 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:38: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:38: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:38: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-22 23:14:29 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 20ms (Views: 1.9ms | ActiveRecord: 4.9ms | Allocations: 5245)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-22 23:14:56 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 5570)


Started POST "/applications/hh14rkDCY1LTwDmcEVrBoGvs" for ::1 at 2022-04-22 23:15:39 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-22 21:15:39.608905' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (84.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (2, 0, '2022-04-22 21:15:39.704313', '2022-04-22 21:15:39.704313', 3)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (102.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 228ms (Views: 0.2ms | ActiveRecord: 199.7ms | Allocations: 12309)


Started GET "/messages/3" for ::1 at 2022-04-22 23:16:06 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Second Message", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 2841)


Started GET "/messages/3" for ::1 at 2022-04-22 23:16:43 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Second Message", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 2.2ms | Allocations: 3140)


Started GET "/messages/3" for ::1 at 2022-04-22 23:17:33 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 646)


Started POST "/messages/3" for ::1 at 2022-04-22 23:17:44 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (1.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-22 21:17:44.193036' WHERE `chats`.`id` = 3[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (83.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (3, 'Hello in 2nd app-1st chat', '2022-04-22 21:17:44.285320', '2022-04-22 21:17:44.285320', 3)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (85.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 239ms (ActiveRecord: 183.9ms | Allocations: 15943)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started POST "/messages/3" for ::1 at 2022-04-22 23:18:09 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-22 21:18:09.460409' WHERE `chats`.`id` = 3[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (70.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (3, 'Hello in 2nd app-1st chat', '2022-04-22 21:18:09.537002', '2022-04-22 21:18:09.537002', 4)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (128.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 216ms (ActiveRecord: 202.1ms | Allocations: 7275)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/messages/3" for ::1 at 2022-04-22 23:18:22 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 3)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms | Allocations: 1470)


Started POST "/messages/3" for ::1 at 2022-04-22 23:19:15 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 3, `chats`.`updated_at` = '2022-04-22 21:19:15.114889' WHERE `chats`.`id` = 3[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (109.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (3, 'Hello in 2nd app-1st chat', '2022-04-22 21:19:15.229815', '2022-04-22 21:19:15.229815', 5)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (169.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 294ms (ActiveRecord: 281.1ms | Allocations: 7220)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-22 23:27:33 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 12ms (Views: 1.9ms | ActiveRecord: 1.7ms | Allocations: 2535)


Started GET "/messages/3" for ::1 at 2022-04-22 23:27:42 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE (chat_id = 3)[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.1ms | Allocations: 1519)


Started GET "/messages/3" for ::1 at 2022-04-23 02:05:35 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"3"}
  [1m[36mMessage Exists? (37.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 3) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 11996ms (Views: 1072.2ms | ActiveRecord: 309.9ms | Allocations: 769)


Started GET "/applications" for ::1 at 2022-04-23 02:12:22 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
Started GET "/applications" for ::1 at 2022-04-23 02:12:43 +0200
  [1m[36mApplication Load (10.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 938ms (Views: 647.0ms | ActiveRecord: 26.4ms | Allocations: 4075)


Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 358ms (Views: 183.7ms | ActiveRecord: 99.4ms | Allocations: 3876)


Started GET "/applications" for ::1 at 2022-04-23 02:12:58 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms | Allocations: 935)


Started GET "/applications" for ::1 at 2022-04-23 02:14:16 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (6.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 43ms (Views: 36.0ms | ActiveRecord: 6.5ms | Allocations: 919)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 02:14:52 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (18.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.6ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-23 00:14:53.497095' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (117.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (77.1ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-23 00:14:54.281827', '2022-04-23 00:14:54.281827', 1)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (123.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 1910ms (Views: 0.2ms | ActiveRecord: 413.6ms | Allocations: 9604)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 02:15:14 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-23 00:15:14.335250' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (94.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-23 00:15:14.729877', '2022-04-23 00:15:14.729877', 2)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (146.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 632ms (Views: 0.1ms | ActiveRecord: 243.3ms | Allocations: 5910)


Started GET "/applications/" for ::1 at 2022-04-23 02:15:23 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 932)


Started POST "/applications/hh14rkDCY1LTwDmcEVrBoGvs" for ::1 at 2022-04-23 02:15:29 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` ORDER BY `chats`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:5:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mApplication Update (0.6ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-23 00:15:29.597113' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (97.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:12:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (2, 0, '2022-04-23 00:15:29.743863', '2022-04-23 00:15:29.743863', 3)[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
  [1m[36mTRANSACTION (147.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:13:in `createChat'
Completed 200 OK in 315ms (Views: 0.1ms | ActiveRecord: 247.0ms | Allocations: 5864)


Started GET "/messages/1" for ::1 at 2022-04-23 02:16:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (7.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 158ms (Views: 0.3ms | ActiveRecord: 8.9ms | Allocations: 2841)


Started POST "/messages/1" for ::1 at 2022-04-23 02:16:25 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms | Allocations: 162)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:17:13 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-23 00:17:14.799618' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (106.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:17:15.017501', '2022-04-23 00:17:15.017501', 1)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (101.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 1375ms (ActiveRecord: 224.6ms | Allocations: 16459)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 02:17:23 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 863)


Started POST "/messages/1" for ::1 at 2022-04-23 02:17:30 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-23 00:17:30.813444' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (89.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (16.1ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:17:30.910441', '2022-04-23 00:17:30.910441', 1)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (139.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 266ms (ActiveRecord: 246.7ms | Allocations: 6628)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 02:17:39 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 627)


Started POST "/messages/1" for ::1 at 2022-04-23 02:17:42 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Update (15.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 3, `chats`.`updated_at` = '2022-04-23 00:17:42.489586' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (113.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:17:42.629056', '2022-04-23 00:17:42.629056', 1)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (102.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 261ms (ActiveRecord: 234.5ms | Allocations: 6608)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:18:18 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
Completed 204 No Content in 24ms (ActiveRecord: 5.5ms | Allocations: 6566)


Started GET "/messages/1" for ::1 at 2022-04-23 02:18:26 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 947)


Started POST "/messages/1" for ::1 at 2022-04-23 02:19:38 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (5.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:19:39.069887', '2022-04-23 00:19:39.069887', 1)[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (126.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
Completed 500 Internal Server Error in 418ms (ActiveRecord: 138.3ms | Allocations: 10644)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:20:24 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.1ms | Allocations: 2399)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:20:36 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 136)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:20:41 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
Completed 200 OK in 58ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 6664)


Started POST "/messages/1" for ::1 at 2022-04-23 02:21:30 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.2ms | Allocations: 2399)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:22:17 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.4ms | Allocations: 2399)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 02:22:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 879)


Started POST "/messages/1" for ::1 at 2022-04-23 02:22:25 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 118)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:23:13 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 4, `chats`.`updated_at` = '2022-04-23 00:23:13.796781' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (76.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:25:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:23:13.881937', '2022-04-23 00:23:13.881937', 2)[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (227.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
Completed 500 Internal Server Error in 362ms (ActiveRecord: 314.6ms | Allocations: 17348)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:26:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:23:59 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 5, `chats`.`updated_at` = '2022-04-23 00:23:59.964398' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (122.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:24:00.093883', '2022-04-23 00:24:00.093883', 3)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (94.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
Completed 500 Internal Server Error in 276ms (ActiveRecord: 230.7ms | Allocations: 17302)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:24:13 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 6, `chats`.`updated_at` = '2022-04-23 00:24:13.307535' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (183.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:24:13.498257', '2022-04-23 00:24:13.498257', 4)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (101.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
Completed 500 Internal Server Error in 344ms (ActiveRecord: 296.9ms | Allocations: 17297)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:24:23 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 7, `chats`.`updated_at` = '2022-04-23 00:24:23.614100' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (108.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:24:23.730381', '2022-04-23 00:24:23.730381', 5)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (202.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
Completed 500 Internal Server Error in 369ms (ActiveRecord: 324.7ms | Allocations: 17350)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:25:07 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (22.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (11.1ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (12.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mApplication Load (14.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 8, `chats`.`updated_at` = '2022-04-23 00:25:07.944576' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (94.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (20.2ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:25:08.099383', '2022-04-23 00:25:08.099383', 6)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (80.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
Completed 500 Internal Server Error in 495ms (ActiveRecord: 245.7ms | Allocations: 27893)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 02:25:19 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mChat Update (1.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 9, `chats`.`updated_at` = '2022-04-23 00:25:19.759615' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (342.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:26:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (1.0ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:25:20.115819', '2022-04-23 00:25:20.115819', 7)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (146.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
Completed 500 Internal Server Error in 568ms (ActiveRecord: 507.0ms | Allocations: 17367)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 02:26:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1003)


Started GET "/messages/1" for ::1 at 2022-04-23 02:30:28 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 42ms (ActiveRecord: 5.4ms | Allocations: 4042)


  
ActiveRecord::ConfigurationError (Can't join 'Message' to association named 'chats'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-23 02:30:49 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN `chats` ON `chats`.`id` = `messages`.`chat_id`[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 6467)


Started GET "/messages/1" for ::1 at 2022-04-23 02:32:58 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (2.0ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chat ON chat.id = message.chat_id and chat.number = 1}[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 5.5ms | Allocations: 3156)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '}' at line 1):
  
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-23 02:33:22 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (186.1ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chat ON chat.id = message.chat_id and chat.number = 1[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
Completed 500 Internal Server Error in 208ms (ActiveRecord: 189.6ms | Allocations: 3111)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Table 'Instabug_Backend_Challenge_development.chat' doesn't exist):
  
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-23 02:33:36 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chat.id = message.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.0ms | Allocations: 3099)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'chat.id' in 'on clause'):
  
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-23 02:33:44 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = message.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.1ms | Allocations: 3108)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'message.chat_id' in 'on clause'):
  
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `puts'
app/controllers/messages_controller.rb:4:in `getMessagesOfChat'
Started GET "/messages/1" for ::1 at 2022-04-23 02:33:49 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:4:in `puts'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` WHERE (chat_id = 1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 5087)


Started GET "/messages/1" for ::1 at 2022-04-23 02:34:20 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:7:in `getMessagesOfChat'
Completed 200 OK in 27ms (Views: 8.2ms | ActiveRecord: 7.2ms | Allocations: 5888)


Started GET "/messages/1" for ::1 at 2022-04-23 02:34:55 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 34ms (Views: 14.1ms | ActiveRecord: 7.2ms | Allocations: 5882)


Started GET "/messages/4" for ::1 at 2022-04-23 02:35:53 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"4"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 656)


Started GET "/messages/2" for ::1 at 2022-04-23 02:36:01 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"2"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 632)


Started GET "/messages/1" for ::1 at 2022-04-23 02:36:05 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.4ms | Allocations: 2158)


Started GET "/applications/" for ::1 at 2022-04-23 02:37:52 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 4.1ms | Allocations: 3589)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 02:38:01 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 21ms (Views: 5.3ms | ActiveRecord: 4.5ms | Allocations: 4868)


Started POST "/messages/99" for ::1 at 2022-04-23 02:45:16 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/messages_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:47: syntax error, unexpected end-of-input, expecting `end'
Started POST "/messages/99" for ::1 at 2022-04-23 02:45:24 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (24.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (4.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 231ms (ActiveRecord: 81.1ms | Allocations: 5403)


  
NoMethodError (undefined method `empty?' for nil:NilClass

            unless @chat.empty?
                        ^^^^^^^):
  
app/controllers/messages_controller.rb:24:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:45:35 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 9.7ms | Allocations: 6091)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:46:17 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 41ms (Views: 0.3ms | ActiveRecord: 9.1ms | Allocations: 6230)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:46:34 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 20ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 5310)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:26:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:46:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 35ms (Views: 0.6ms | ActiveRecord: 7.5ms | Allocations: 6252)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:47:30 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 6.8ms | Allocations: 5989)


  
NoMethodError (undefined method `nil' for nil:NilClass

            if @chat.nil
                    ^^^^):
  
app/controllers/messages_controller.rb:25:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:47:55 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 7.4ms | Allocations: 6059)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:26:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:48:57 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 30ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 6237)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:49:34 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 21ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 5324)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:49:43 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (2.1ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 36ms (Views: 0.2ms | ActiveRecord: 11.7ms | Allocations: 6200)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:49:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 33ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 6161)


  
NoMethodError (undefined method `messages_count' for nil:NilClass

            @chat.update(messages_count: @chat.messages_count+1)
                                              ^^^^^^^^^^^^^^^):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:50:01 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 30ms (Views: 0.3ms | ActiveRecord: 6.2ms | Allocations: 6119)


  
NoMethodError (undefined method `save' for nil:NilClass

            if @newMessage.save
                          ^^^^^):
  
app/controllers/messages_controller.rb:30:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:50:09 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 9.1ms | Allocations: 5208)


Started POST "/messages/99" for ::1 at 2022-04-23 02:50:21 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 200 OK in 24ms (Views: 0.3ms | ActiveRecord: 6.5ms | Allocations: 5191)


Started POST "/messages/99" for ::1 at 2022-04-23 02:50:35 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 5204)


Started POST "/messages/1" for ::1 at 2022-04-23 02:50:58 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 204 No Content in 9ms (ActiveRecord: 2.1ms | Allocations: 2375)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 02:51:19 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (16.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 46ms (Views: 6.4ms | ActiveRecord: 23.1ms | Allocations: 4847)


Started GET "/messages/1" for ::1 at 2022-04-23 02:51:37 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 728)


Started GET "/messages/1" for ::1 at 2022-04-23 02:52:37 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 3157)


Started GET "/messages/99" for ::1 at 2022-04-23 02:52:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 654)


Started GET "/messages/99" for ::1 at 2022-04-23 02:54:03 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 3.5ms | Allocations: 3155)


Started POST "/messages/99" for ::1 at 2022-04-23 02:54:18 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 12ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 2857)


Started POST "/messages/99" for ::1 at 2022-04-23 02:54:25 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 4ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1226)


Started POST "/messages/99" for ::1 at 2022-04-23 02:54:32 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 29ms (Views: 0.3ms | ActiveRecord: 7.8ms | Allocations: 6222)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:54:41 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (3.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 38ms (Views: 0.2ms | ActiveRecord: 9.2ms | Allocations: 6230)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:54:49 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 29ms (Views: 0.3ms | ActiveRecord: 7.4ms | Allocations: 6238)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:54:57 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 41ms (Views: 0.3ms | ActiveRecord: 25.1ms | Allocations: 5217)


Started POST "/messages/99" for ::1 at 2022-04-23 02:55:02 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (4.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 500 Internal Server Error in 32ms (Views: 0.4ms | ActiveRecord: 10.2ms | Allocations: 6230)


  
NoMethodError (undefined method `id' for nil:NilClass

            @newMessage = Message.new(chat_id: @chat.id, message_body: @messageBody.strip, number: @number) #Trim leading and trailing white spaces
                                                    ^^^):
  
app/controllers/messages_controller.rb:27:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 02:55:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 31ms (Views: 0.4ms | ActiveRecord: 8.7ms | Allocations: 5233)


Started POST "/messages/99" for ::1 at 2022-04-23 02:55:42 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 27ms (Views: 0.3ms | ActiveRecord: 6.6ms | Allocations: 5217)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 02:55:54 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (1.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 34ms (Views: 5.6ms | ActiveRecord: 12.0ms | Allocations: 6015)


Started POST "/messages/1" for ::1 at 2022-04-23 02:56:02 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (3.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 10, `chats`.`updated_at` = '2022-04-23 00:56:02.992628' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (93.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 00:56:03.098363', '2022-04-23 00:56:03.098363', 1)[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (96.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 500 Internal Server Error in 221ms (ActiveRecord: 197.1ms | Allocations: 9591)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 02:57:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.3ms | Allocations: 1449)


Started POST "/messages/1" for ::1 at 2022-04-23 02:58:04 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.1ms | Allocations: 2409)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:15:31 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (2.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 11, `chats`.`updated_at` = '2022-04-23 01:15:31.763865' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (80.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mMessage Create (30.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:15:31.855896', '2022-04-23 01:15:31.855896', 2)[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (145.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 500 Internal Server Error in 426ms (ActiveRecord: 292.9ms | Allocations: 17090)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 03:15:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 1.0ms | Allocations: 1614)


Started POST "/messages/1" for ::1 at 2022-04-23 03:15:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (11.3ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 12, `chats`.`updated_at` = '2022-04-23 01:15:53.243161' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (122.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:15:53.384642', '2022-04-23 01:15:53.384642', 3)[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (70.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 500 Internal Server Error in 230ms (ActiveRecord: 208.2ms | Allocations: 7252)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 03:15:55 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 4.1ms | ActiveRecord: 1.0ms | Allocations: 1537)


Started GET "/messages/98" for ::1 at 2022-04-23 03:16:07 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"98"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 98 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 633)


Started POST "/messages/98" for ::1 at 2022-04-23 03:16:12 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"98"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 98 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
Completed 400 Bad Request in 11ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 1206)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:16:36 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 9ms (Views: 2.8ms | ActiveRecord: 1.7ms | Allocations: 2468)


Started POST "/messages/1" for ::1 at 2022-04-23 03:16:50 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (3.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 13, `chats`.`updated_at` = '2022-04-23 01:16:50.290073' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (125.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Load (3.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:16:50.430817', '2022-04-23 01:16:50.430817', 4)[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (124.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 500 Internal Server Error in 294ms (ActiveRecord: 261.1ms | Allocations: 7421)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:16:53 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (2.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 10ms (Views: 2.8ms | ActiveRecord: 3.7ms | Allocations: 1905)


Started POST "/messages/1" for ::1 at 2022-04-23 03:17:11 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (2.0ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:17:11.864225', '2022-04-23 01:17:11.864225', 5)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (106.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 191ms (ActiveRecord: 152.1ms | Allocations: 11461)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:17:23 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (1.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 23ms (Views: 3.2ms | ActiveRecord: 5.7ms | Allocations: 4869)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:17:24 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 1.2ms | Allocations: 1924)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:17:41 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 78ms (Views: 38.2ms | ActiveRecord: 11.0ms | Allocations: 7533)


Started POST "/messages/1" for ::1 at 2022-04-23 03:17:45 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (2.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (4.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:17:45.783575', '2022-04-23 01:17:45.783575', 6)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (287.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 347ms (ActiveRecord: 299.5ms | Allocations: 8731)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:17:50 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 13ms (Views: 7.7ms | ActiveRecord: 1.1ms | Allocations: 1963)


Started POST "/messages/1" for ::1 at 2022-04-23 03:18:58 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:18:58.325708', '2022-04-23 01:18:58.325708', 7)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (80.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 96ms (ActiveRecord: 82.8ms | Allocations: 4386)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:19:06 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 8ms (Views: 2.9ms | ActiveRecord: 1.4ms | Allocations: 1902)


Started POST "/messages/1" for ::1 at 2022-04-23 03:19:18 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:19:18.803421', '2022-04-23 01:19:18.803421', 8)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (160.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 210ms (ActiveRecord: 171.3ms | Allocations: 11461)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:21:01 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:21:01.342449', '2022-04-23 01:21:01.342449', NULL)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 13.0ms | Allocations: 11017)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:21:11 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:21:11.409831', '2022-04-23 01:21:11.409831', 9)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (137.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 500 Internal Server Error in 188ms (ActiveRecord: 151.0ms | Allocations: 11424)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:28:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:21:25 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:21:26.080748', '2022-04-23 01:21:26.080748', NULL)[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 10.5ms | Allocations: 10972)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/messages_controller.rb:24:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:21:33 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:19:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mChat Load (2.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:21:33.611969', '2022-04-23 01:21:33.611969', 1)[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
  [1m[36mTRANSACTION (126.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:24:in `createMessage'
Completed 500 Internal Server Error in 187ms (ActiveRecord: 144.2ms | Allocations: 11459)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:24:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:38:13 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 1ms (Allocations: 337)


  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/models/message.rb:3: syntax error, unexpected '=', expecting `end'
  =begin
  ^
/home/omar/Desktop/Instabug-Backend-Challenge/app/models/message.rb:35: syntax error, unexpected '=', expecting `end'
 =end
 ^
):
  
app/models/message.rb:3: syntax error, unexpected '=', expecting `end'
app/models/message.rb:35: syntax error, unexpected '=', expecting `end'
app/models/message.rb:3: syntax error, unexpected '=', expecting `end'
app/models/message.rb:35: syntax error, unexpected '=', expecting `end'
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:38:38 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (13.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (10.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:38:39.063055', '2022-04-23 01:38:39.063055', 2)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (183.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 280ms (Views: 0.4ms | ActiveRecord: 227.5ms | Allocations: 9673)


Started GET "/messages/1" for ::1 at 2022-04-23 03:38:48 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (7.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 8.0ms | Allocations: 2381)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:40:01 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (8.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 53ms (Views: 3.6ms | ActiveRecord: 39.0ms | Allocations: 4845)


Started GET "/applications/" for ::1 at 2022-04-23 03:40:15 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.4ms | Allocations: 1185)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 03:41:33 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 8ms (Views: 2.7ms | ActiveRecord: 2.0ms | Allocations: 1877)


Started GET "/applications/" for ::1 at 2022-04-23 03:41:44 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 919)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 03:41:52 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:22:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:24:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 12ms (Views: 2.3ms | ActiveRecord: 1.5ms | Allocations: 1903)


Started POST "/messages/1" for ::1 at 2022-04-23 03:42:15 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` ORDER BY `messages`.`id` DESC LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (7.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:42:15.720697', '2022-04-23 01:42:15.720697', 1)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (89.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 110ms (Views: 0.4ms | ActiveRecord: 98.5ms | Allocations: 4043)


Started GET "/messages/1" for ::1 at 2022-04-23 03:42:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 1368)


Started POST "/messages/1" for ::1 at 2022-04-23 03:42:59 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1197)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:46:57 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 1196)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:48:38 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Maximum (50.6ms)[0m  [1m[34mSELECT MAX(`messages`.`number`) FROM `messages`[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
Completed 500 Internal Server Error in 66ms (ActiveRecord: 52.3ms | Allocations: 3539)


  
NoMethodError (undefined method `number' for 1:Integer

                @number = @lastMessage.number + 1
                                      ^^^^^^^
Did you mean?  numerator):
  
app/controllers/messages_controller.rb:21:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:49:00 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Maximum (0.5ms)[0m  [1m[34mSELECT MAX(`messages`.`number`) FROM `messages`[0m
  â†³ app/controllers/messages_controller.rb:16:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:23:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 01:49:00.957804', '2022-04-23 01:49:00.957804', 2)[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (122.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Update (18.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 14, `chats`.`updated_at` = '2022-04-23 01:49:01.098097' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (134.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 204 No Content in 359ms (ActiveRecord: 313.0ms | Allocations: 15752)


Started GET "/messages/1" for ::1 at 2022-04-23 03:49:06 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.3ms | Allocations: 1679)


Started GET "/messages/1" for ::1 at 2022-04-23 03:51:31 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 27ms (Views: 6.1ms | ActiveRecord: 8.9ms | Allocations: 4427)


Started POST "/messages/1" for ::1 at 2022-04-23 03:51:41 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 153)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/controllers/messages_controller.rb:16:in `createMessage'
Started GET "/messages/1" for ::1 at 2022-04-23 03:58:43 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (21.1ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (10.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 66ms (Views: 5.2ms | ActiveRecord: 38.7ms | Allocations: 4275)


Started POST "/messages/1" for ::1 at 2022-04-23 03:58:55 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 26.1ms | Allocations: 5464)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x000000000d52f0>

            @lastMessage = Message.select(number).where(chat_id: @chat.id)
                                          ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:59:07 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 144ms (ActiveRecord: 126.8ms | Allocations: 7034)


  
NameError (undefined local variable or method `lastMessage' for #<MessagesController:0x000000000d95a8>

            render json: lastMessage
                         ^^^^^^^^^^^
Did you mean?  @lastMessage):
  
app/controllers/messages_controller.rb:18:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 03:59:15 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (1.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.`number` FROM `messages` WHERE `messages`.`chat_id` = 4[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 35ms (Views: 6.7ms | ActiveRecord: 11.5ms | Allocations: 6889)


  
TypeError (no implicit conversion of Integer into Array):
  
app/controllers/messages_controller.rb:23:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:00:10 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Maximum (0.4ms)[0m  [1m[34mSELECT MAX(`messages`.`number`) FROM `messages`[0m
  â†³ app/controllers/messages_controller.rb:17:in `createMessage'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 9.7ms | Allocations: 6651)


  
NoMethodError (undefined method `where' for 2:Integer

            @lastMessage = Message.maximum(:number).where(chat_id: @chat.id)
                                                   ^^^^^^):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:01:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.8ms | Allocations: 6354)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x000000000e5f10>

            @lastMessage = Message.select(number).where(chat_id: @chat.id)
                                          ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:02:08 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.5ms | Allocations: 2860)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x000000000e5f88>

            @lastMessage = Message.select(number).where(chat_id: @chat.id)
                                          ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:02:17 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 5.3ms | Allocations: 6349)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x000000000ea2e0>

            @lastMessage = Message.select(number).where(chat_id: @chat.id)
                                          ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:05:45 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (4.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (1.7ms)[0m  [1m[34mSELECT MAX(number FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 16.4ms | Allocations: 5594)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM `messages` GROUP BY `messages`.`number`' at line 1):
  
app/controllers/messages_controller.rb:18:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:05:53 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 33ms (Views: 7.7ms | ActiveRecord: 11.1ms | Allocations: 6945)


  
TypeError (no implicit conversion of Integer into Array):
  
app/controllers/messages_controller.rb:23:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:06:14 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 168ms (Views: 10.3ms | ActiveRecord: 124.6ms | Allocations: 9437)


  
NoMethodError (undefined method `number' for #<ActiveRecord::Relation [#<Message id: nil>, #<Message id: nil>]>):
  
app/controllers/messages_controller.rb:23:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:06:32 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 65ms (Views: 7.2ms | ActiveRecord: 9.9ms | Allocations: 6890)


  
TypeError (no implicit conversion of Integer into Array):
  
app/controllers/messages_controller.rb:23:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:06:45 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (1.1ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:06:45.855535', '2022-04-23 02:06:45.855535', NULL)[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/messages_controller.rb:29:in `createMessage'
Completed 500 Internal Server Error in 50ms (Views: 8.2ms | ActiveRecord: 11.3ms | Allocations: 10408)


  
ActiveRecord::NotNullViolation (Mysql2::Error: Column 'number' cannot be null):
  
app/controllers/messages_controller.rb:29:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:06:59 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number`[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (0.7ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:06:59.852216', '2022-04-23 02:06:59.852216', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (105.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (48.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 15, `chats`.`updated_at` = '2022-04-23 02:07:00.029240' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (132.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 347ms (Views: 6.9ms | ActiveRecord: 300.1ms | Allocations: 16160)


Started POST "/messages/1" for ::1 at 2022-04-23 04:08:09 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:17: syntax error, unexpected instance variable, expecting ')'
...r).having('number=' @chatNumber)
...                    ^~~~~~~~~~~
):
  
app/controllers/messages_controller.rb:17: syntax error, unexpected instance variable, expecting ')'
app/controllers/messages_controller.rb:17: syntax error, unexpected instance variable, expecting ')'
Started POST "/messages/1" for ::1 at 2022-04-23 04:08:15 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number` HAVING (number=1)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (1.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (62.8ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:08:15.781885', '2022-04-23 02:08:15.781885', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (154.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (13.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 16, `chats`.`updated_at` = '2022-04-23 02:08:16.017616' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (163.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 487ms (Views: 7.0ms | ActiveRecord: 443.1ms | Allocations: 16217)


Started GET "/messages/1" for ::1 at 2022-04-23 04:08:26 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 1.1ms | Allocations: 1788)


Started POST "/messages/1" for ::1 at 2022-04-23 04:08:39 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number` HAVING (number=1)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (13.7ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:08:39.577997', '2022-04-23 02:08:39.577997', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (97.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (20.0ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 17, `chats`.`updated_at` = '2022-04-23 02:08:39.697027' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (90.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 243ms (Views: 1.6ms | ActiveRecord: 224.9ms | Allocations: 6949)


Started GET "/messages/1" for ::1 at 2022-04-23 04:08:42 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 12ms (Views: 5.8ms | ActiveRecord: 2.4ms | Allocations: 1716)


Started POST "/messages/1" for ::1 at 2022-04-23 04:08:52 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number` HAVING (number=1)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (15.8ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:08:52.349078', '2022-04-23 02:08:52.349078', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (169.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (40.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 18, `chats`.`updated_at` = '2022-04-23 02:08:52.540729' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (75.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 326ms (Views: 1.3ms | ActiveRecord: 303.7ms | Allocations: 6903)


Started POST "/messages/1" for ::1 at 2022-04-23 04:09:19 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 4.3ms | Allocations: 4345)


  
TypeError (no implicit conversion of Integer into String):
  
app/controllers/messages_controller.rb:17:in `+'
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:09:42 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 4.0ms | Allocations: 6508)


  
NoMethodError (undefined method `string' for #<MessagesController:0x00000000114ea0>

            @lastMessage = Message.select('MAX(number)').group(:number).having('chat_id=' + string(@chat.id))
                                                                                            ^^^^^^
Did you mean?  String):
  
app/controllers/messages_controller.rb:17:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:10:50 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`number` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 29ms (ActiveRecord: 8.2ms | Allocations: 5689)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'chat_id' in 'having clause'):
  
app/controllers/messages_controller.rb:18:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:11:11 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:11:11.556768', '2022-04-23 02:11:11.556768', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (63.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (1.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (0.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 19, `chats`.`updated_at` = '2022-04-23 02:11:11.645236' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (77.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 213ms (Views: 7.1ms | ActiveRecord: 160.9ms | Allocations: 16154)


Started POST "/messages/1" for ::1 at 2022-04-23 04:11:56 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:22:in `createMessage'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 7.6ms | Allocations: 8841)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x00000000121f10>

                @number = @lastMessage[0].MAX(number) + 1
                                              ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:22:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:12:31 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:12:31.838654', '2022-04-23 02:12:31.838654', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (259.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (13.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 20, `chats`.`updated_at` = '2022-04-23 02:12:32.114867' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (207.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 544ms (Views: 0.5ms | ActiveRecord: 495.8ms | Allocations: 16042)


Started POST "/messages/1" for ::1 at 2022-04-23 04:12:45 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 8.6ms | Allocations: 8810)


  
NameError (undefined local variable or method `number' for #<MessagesController:0x0000000012aae8>

            render json: @lastMessage[0].MAX(number)
                                             ^^^^^^
Did you mean?  @chatNumber):
  
app/controllers/messages_controller.rb:18:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:13:04 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:13:04.264968', '2022-04-23 02:13:04.264968', 3)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (70.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 21, `chats`.`updated_at` = '2022-04-23 02:13:04.357539' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (77.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
Completed 200 OK in 218ms (Views: 0.4ms | ActiveRecord: 165.6ms | Allocations: 16019)


Started POST "/messages/1" for ::1 at 2022-04-23 04:13:38 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:21:in `createMessage'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 7.3ms | Allocations: 6219)


  
NoMethodError (undefined method `[]' for nil:NilClass

                @number = @lastMessage[0]['MAX(number)'] + 1
                                         ^^^^^^^^^^^^^^^):
  
app/controllers/messages_controller.rb:21:in `createMessage'
Started POST "/messages/1" for ::1 at 2022-04-23 04:13:48 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (48.9ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (74.1ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:13:49.211474', '2022-04-23 02:13:49.211474', 1)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (92.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 22, `chats`.`updated_at` = '2022-04-23 02:13:49.397035' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (69.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 204 No Content in 354ms (ActiveRecord: 299.6ms | Allocations: 15861)


Started GET "/messages/1" for ::1 at 2022-04-23 04:13:55 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 1.0ms | Allocations: 1524)


Started GET "/messages/1" for ::1 at 2022-04-23 04:14:13 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.0ms | Allocations: 1356)


Started POST "/messages/1" for ::1 at 2022-04-23 04:14:19 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:21:in `createMessage'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:14:19.344925', '2022-04-23 02:14:19.344925', 2)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (141.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.6ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 23, `chats`.`updated_at` = '2022-04-23 02:14:19.498118' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (76.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 204 No Content in 246ms (ActiveRecord: 222.6ms | Allocations: 7263)


Started GET "/messages/1" for ::1 at 2022-04-23 04:14:23 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.2ms | Allocations: 1445)


Started POST "/messages/1" for ::1 at 2022-04-23 04:15:11 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (5.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=4)[0m
  â†³ app/controllers/messages_controller.rb:21:in `createMessage'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (2.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 4 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (2.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (4, 'Hello in 2nd app-1st chat', '2022-04-23 02:15:11.902582', '2022-04-23 02:15:11.902582', 3)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (129.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (3.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 24, `chats`.`updated_at` = '2022-04-23 02:15:12.051349' WHERE `chats`.`id` = 4[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (166.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 376ms (Views: 0.2ms | ActiveRecord: 322.6ms | Allocations: 16533)


Started POST "/messages/2" for ::1 at 2022-04-23 04:15:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"2"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=5) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 5 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.8ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (5, 'Hello in 2nd app-1st chat', '2022-04-23 02:15:22.429735', '2022-04-23 02:15:22.429735', 1)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (112.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-23 02:15:22.550039' WHERE `chats`.`id` = 5[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (64.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 204ms (Views: 0.2ms | ActiveRecord: 184.7ms | Allocations: 6804)


Started POST "/messages/2" for ::1 at 2022-04-23 04:15:23 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"2"}
  [1m[36mChat Load (6.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=5) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=5)[0m
  â†³ app/controllers/messages_controller.rb:21:in `createMessage'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (2.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 5 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (3.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (5, 'Hello in 2nd app-1st chat', '2022-04-23 02:15:23.998653', '2022-04-23 02:15:23.998653', 2)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (74.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-23 02:15:24.084201' WHERE `chats`.`id` = 5[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (107.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 219ms (Views: 0.2ms | ActiveRecord: 198.9ms | Allocations: 7272)


Started POST "/messages/2" for ::1 at 2022-04-23 04:15:26 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"2"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=5) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Load (1.0ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=5)[0m
  â†³ app/controllers/messages_controller.rb:21:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 5 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (5, 'Hello in 2nd app-1st chat', '2022-04-23 02:15:26.359255', '2022-04-23 02:15:26.359255', 3)[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (66.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 3, `chats`.`updated_at` = '2022-04-23 02:15:26.434913' WHERE `chats`.`id` = 5[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mTRANSACTION (71.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
Completed 200 OK in 162ms (Views: 0.2ms | ActiveRecord: 141.9ms | Allocations: 7272)


Started GET "/messages/2" for ::1 at 2022-04-23 04:15:30 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"2"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.4ms | Allocations: 1581)


Started POST "/messages/99" for ::1 at 2022-04-23 04:16:42 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mChat Load (2.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 6.7ms | Allocations: 4083)


  
NoMethodError (undefined method `id' for nil:NilClass

            @lastMessage = Message.select('MAX(number)').group(:chat_id).having('chat_id=' + (@chat.id).to_s)
                                                                                                   ^^^):
  
app/controllers/messages_controller.rb:18:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 04:23:18 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mChat Load (46.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 500 Internal Server Error in 88ms (Views: 0.3ms | ActiveRecord: 65.0ms | Allocations: 4169)


  
NoMethodError (undefined method `id' for nil:NilClass

            @lastMessage = Message.select('MAX(number)').group(:chat_id).having('chat_id=' + (@chat.id).to_s)
                                                                                                   ^^^):
  
app/controllers/messages_controller.rb:22:in `createMessage'
Started POST "/messages/99" for ::1 at 2022-04-23 04:24:00 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mChat Load (7.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 400 Bad Request in 80ms (Views: 0.3ms | ActiveRecord: 64.5ms | Allocations: 2417)


Started POST "/messages/99" for ::1 at 2022-04-23 04:33:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello in 2nd app-1st chat", "chatNumber"=>"99"}
  [1m[36mChat Load (30.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`number` = 99 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:15:in `createMessage'
Completed 400 Bad Request in 133ms (Views: 0.3ms | ActiveRecord: 114.8ms | Allocations: 2314)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 04:33:39 +0200
  
ActionController::RoutingError (No route matches [POST] "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats"):
  
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 04:34:01 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (13.1ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (4.2ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chat_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
Completed 500 Internal Server Error in 113ms (ActiveRecord: 103.7ms | Allocations: 4145)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'chat_id' in 'group statement'):
  
app/controllers/chats_controller.rb:14:in `createChat'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 04:34:33 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 3, `applications`.`updated_at` = '2022-04-23 02:34:33.344433' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (66.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (0.6ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-23 02:34:33.421815', '2022-04-23 02:34:33.421815', 3)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (170.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 307ms (Views: 0.3ms | ActiveRecord: 274.3ms | Allocations: 12254)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 04:34:41 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 1.3ms | Allocations: 2123)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 04:34:50 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 4, `applications`.`updated_at` = '2022-04-23 02:34:50.779873' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (61.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (0.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-23 02:34:50.851665', '2022-04-23 02:34:50.851665', 4)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (136.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 216ms (Views: 0.1ms | ActiveRecord: 202.2ms | Allocations: 5837)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 04:34:54 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.5ms | Allocations: 913)


Started GET "/applications/" for ::1 at 2022-04-23 04:35:00 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"Name"=>"Second Application"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.4ms | Allocations: 973)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs" for ::1 at 2022-04-23 04:35:12 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 672)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 04:35:17 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 2.3ms | Allocations: 1852)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 04:35:57 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 9ms (Views: 2.9ms | ActiveRecord: 1.4ms | Allocations: 1820)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 04:36:05 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 1.3ms | Allocations: 1820)


Started POST "/applications/hh14rkDCY1LTwDmcEVrBoGvs/" for ::1 at 2022-04-23 04:36:13 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=2)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (0.5ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-23 02:36:13.235688' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (77.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (13.8ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (2, 0, '2022-04-23 02:36:13.321865', '2022-04-23 02:36:13.321865', 2)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (158.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 266ms (Views: 0.1ms | ActiveRecord: 251.8ms | Allocations: 5940)


Started POST "/applications/hh14rkDCY1LTwDmcEVrBoGvs/" for ::1 at 2022-04-23 04:36:15 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (4.0ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=2)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (16.1ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 3, `applications`.`updated_at` = '2022-04-23 02:36:15.878753' WHERE `applications`.`id` = 2[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (81.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (2, 0, '2022-04-23 02:36:15.988355', '2022-04-23 02:36:15.988355', 3)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (67.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 191ms (Views: 0.3ms | ActiveRecord: 170.6ms | Allocations: 5835)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 04:36:21 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.3ms | Allocations: 1984)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 05:22:14 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (25.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 204ms (Views: 5.4ms | ActiveRecord: 67.2ms | Allocations: 7132)


Started POST "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:22:56 +0200
  
ActionController::RoutingError (No route matches [POST] "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1"):
  
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:23:03 +0200
  
ActionController::RoutingError (No route matches [PATCH] "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1"):
  
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:23:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.0ms | Allocations: 2217)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:23:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 1509)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:23:44 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 1501)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:23:57 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1506)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'Chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:24:03 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1502)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'Chats'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:24:13 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2188)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'Messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:24:22 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 2196)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:25:06 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2184)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:26:37 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 1302)


  
TypeError (no implicit conversion of Array into String):
  
app/controllers/messages_controller.rb:45:in `+'
app/controllers/messages_controller.rb:45:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:30:13 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 93ms (ActiveRecord: 82.7ms | Allocations: 2676)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:30:28 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.1ms | Allocations: 1960)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:47:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:31:16 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id`[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 60ms (Views: 11.1ms | ActiveRecord: 44.3ms | Allocations: 5461)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:32:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1510)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:48:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:39:08 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 159ms (ActiveRecord: 93.0ms | Allocations: 2123)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:45:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:39:20 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.3ms | Allocations: 1944)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:45:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:40:40 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.1ms | Allocations: 1954)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:45:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:41:03 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 2.2ms | Allocations: 1946)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 05:42:23 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 252)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 05:42:38 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 236)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 05:42:42 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.7ms | Allocations: 1953)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 05:43:00 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 217)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 05:43:20 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.2ms | Allocations: 1950)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/" for ::1 at 2022-04-23 05:43:38 +0200
  
ActionController::RoutingError (No route matches [PATCH] "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1"):
  
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:44:03 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.7ms | Allocations: 1946)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:44:09 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.0ms | Allocations: 1950)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:44:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.8ms | Allocations: 1946)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started GET "/messages/hh14rkDCY1LTwDmcEVrBoGvs/" for ::1 at 2022-04-23 05:44:36 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "chatNumber"=>"hh14rkDCY1LTwDmcEVrBoGvs"}
  [1m[36mMessage Exists? (12.8ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = hh14rkDCY1LTwDmcEVrBoGvs LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 14.4ms | Allocations: 3085)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'hh14rkDCY1LTwDmcEVrBoGvs' in 'on clause'):
  
app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/" for ::1 at 2022-04-23 05:44:45 +0200
Processing by ApplicationsController#getAppByToken as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/applications_controller.rb:35:in `getAppByToken'
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 3.5ms | Allocations: 2358)


Started GET "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:45:50 +0200
  
ActionController::RoutingError (No route matches [GET] "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1"):
  
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:45:57 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 262)


  
TypeError (can't quote Array):
  
app/controllers/messages_controller.rb:46:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:46:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
Completed 200 OK in 34ms (Views: 0.6ms | ActiveRecord: 22.1ms | Allocations: 3885)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:47:37 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (1.2ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
Completed 200 OK in 47ms (Views: 0.6ms | ActiveRecord: 25.3ms | Allocations: 6890)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:48:05 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 10.3ms | Allocations: 8671)


Started GET "/messages/1" for ::1 at 2022-04-23 05:48:39 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 2.3ms | Allocations: 2854)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:52:19 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
...= Chat.find_by (application_id: @application.id)
...                ^~~~~~~~~~~~~~~
/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:47: syntax error, unexpected ')', expecting `end'
...pplication_id: @application.id)
...                              ^
):
  
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:47: syntax error, unexpected ')', expecting `end'
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:47: syntax error, unexpected ')', expecting `end'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:52:28 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 43ms (Views: 5.0ms | ActiveRecord: 10.0ms | Allocations: 8862)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/chats" for ::1 at 2022-04-23 05:52:47 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'hh14rkDCY1LTwDmcEVrBoGvs' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 2) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 2)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 2.2ms | Allocations: 2510)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:53:18 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (1.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 2.7ms | Allocations: 1790)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 05:54:15 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '2', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 1.7ms | Allocations: 1783)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:54:50 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
...= Chat.find_by (application_id: @application.id, number: @ch...
...                ^~~~~~~~~~~~~~~
/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting '='
...on_id: @application.id, number: @chatNumber)
...                        ^~~~~~~
/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting ')'
...age = Message.find_by (chat_id: @chat.id, number: @messageNu...
...                       ^~~~~~~~
/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting '='
..._by (chat_id: @chat.id, number: @messageNumber)
...                        ^~~~~~~
):
  
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting '='
app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting '='
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:47: syntax error, unexpected label, expecting '='
app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting ')'
app/controllers/messages_controller.rb:48: syntax error, unexpected label, expecting '='
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:55:13 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (1.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 40ms (Views: 0.7ms | ActiveRecord: 15.2ms | Allocations: 8891)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 05:55:23 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '2', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 9 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 1831)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/3/1" for ::1 at 2022-04-23 05:55:28 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"3", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '3', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 10 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 1.8ms | Allocations: 1791)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/3/1" for ::1 at 2022-04-23 05:55:38 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"3", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '3', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 3 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 10 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 54ms (Views: 8.8ms | ActiveRecord: 11.3ms | Allocations: 8738)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 05:55:43 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:46:in `updateMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:47:in `updateMessage'
  [1m[36mMessage Load (1.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:48:in `updateMessage'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.6ms | Allocations: 1760)


Started POST "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1" for ::1 at 2022-04-23 06:00:44 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.9ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE (`applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1') OR `applications`.`token` IS NULL) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (1.3ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 200 OK in 54ms (Views: 0.2ms | ActiveRecord: 32.1ms | Allocations: 6886)


Started POST "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1" for ::1 at 2022-04-23 06:01:00 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"HELLO WORLD", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', 'HELLO WORLD') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=6) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (8.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (6, 'HELLO WORLD', '2022-04-23 04:01:00.693185', '2022-04-23 04:01:00.693185', 1)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (115.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (1.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (2.2ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-23 04:01:00.829149' WHERE `chats`.`id` = 6[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (306.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 475ms (Views: 0.2ms | ActiveRecord: 440.1ms | Allocations: 11096)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:01:11 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:50:in `updateMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:52:in `updateMessage'
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 1.5ms | Allocations: 2047)


Started POST "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1" for ::1 at 2022-04-23 06:01:27 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', 'HELLO SECOND WORLD') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (1.1ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=6) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=6)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (0.6ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (6, 'HELLO SECOND WORLD', '2022-04-23 04:01:27.521944', '2022-04-23 04:01:27.521944', 2)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (119.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-23 04:01:27.650470' WHERE `chats`.`id` = 6[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (70.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 230ms (Views: 0.2ms | ActiveRecord: 196.7ms | Allocations: 7940)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:01:32 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (3.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:50:in `updateMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:52:in `updateMessage'
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 4.3ms | Allocations: 1806)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 06:01:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[36mApplication Load (0.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '2') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:50:in `updateMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:52:in `updateMessage'
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 2.3ms | Allocations: 1806)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:08:50 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (15.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:53:in `updateMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:57:in `updateMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:61:in `updateMessage'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
  [1m[36mMessage Update (51.2ms)[0m  [1m[33mUPDATE `messages` SET `messages`.`message_body` = 'FIRST UPDATE MESSAGE', `messages`.`updated_at` = '2022-04-23 04:08:51.122653' WHERE `messages`.`id` = 42[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
  [1m[36mTRANSACTION (67.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
Completed 500 Internal Server Error in 233ms (Views: 0.5ms | ActiveRecord: 157.1ms | Allocations: 12648)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:66:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:09:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('hh14rkDCY1LTwDmcEVrBoGvs', '1', '1') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:53:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 2 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:57:in `updateMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`chat_id` = 6 AND `messages`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:61:in `updateMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 6 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:65:in `updateMessage'
Completed 500 Internal Server Error in 190ms (Views: 0.3ms | ActiveRecord: 45.8ms | Allocations: 12726)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:66:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:12:55 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2205)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:13:22 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2192)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:13:32 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2199)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'Message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:13:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2194)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'Messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:13:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2192)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:14:02 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 2205)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started POST "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:14:23 +0200
  
ActionController::RoutingError (No route matches [POST] "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1"):
  
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:14:29 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 280)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:15:05 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2181)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:15:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2192)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:16:49 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1414)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'applications'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:17:29 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1419)


  
ActiveRecord::ConfigurationError (Can't join 'Message' to association named 'chats'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:17:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1419)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:21:07 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 106ms (ActiveRecord: 0.0ms | Allocations: 5751)


  
NameError (Rails couldn't find a valid model for Applications association. Please provide the :class_name option on the association declaration. If :class_name is already provided, make sure it's an ActiveRecord::Base subclass.

          raise NameError, msg
          ^^^^^):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
  [1m[35m (17.6ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (8.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (19.9ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:21:46 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms | Allocations: 5696)


  
NameError (Rails couldn't find a valid model for Applications association. Please provide the :class_name option on the association declaration. If :class_name is already provided, make sure it's an ActiveRecord::Base subclass.

          raise NameError, msg
          ^^^^^):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:22:15 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2226)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'applications'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:23:13 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1538)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chats'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:23:28 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2188)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'applications'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:28:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id` INNER JOIN `applications` `applications_chats` ON `applications_chats`.`id` = `chats`.`application_id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 28ms (Views: 14.2ms | ActiveRecord: 6.2ms | Allocations: 5662)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:28:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2182)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:29:14 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id` INNER JOIN `applications` `applications_chats` ON `applications_chats`.`id` = `chats`.`application_id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 18ms (Views: 10.6ms | ActiveRecord: 4.3ms | Allocations: 5583)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:32:35 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2185)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:34:00 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 1541)


  
ActiveRecord::ConfigurationError (Can't join 'Application' to association named 'chat'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:34:05 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (1.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id` INNER JOIN `applications` `applications_chats` ON `applications_chats`.`id` = `chats`.`application_id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 33ms (Views: 21.4ms | ActiveRecord: 5.9ms | Allocations: 5626)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:34:24 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 28ms (Views: 13.1ms | ActiveRecord: 8.6ms | Allocations: 5430)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:34:42 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1409)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'messages'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:34:49 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 1414)


  
ActiveRecord::ConfigurationError (Can't join 'Chat' to association named 'message'; perhaps you misspelled it?):
  
app/controllers/messages_controller.rb:51:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:35:31 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` INNER JOIN `messages` ON `messages`.`chat_id` = `chats`.`id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 75ms (Views: 11.5ms | ActiveRecord: 58.1ms | Allocations: 5732)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:36:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[36mApplication Load (2.1ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` INNER JOIN `chats` ON `chats`.`application_id` = `applications`.`id` INNER JOIN `messages` ON `messages`.`chat_id` = `chats`.`id`[0m
  â†³ app/controllers/messages_controller.rb:51:in `updateMessage'
Completed 200 OK in 38ms (Views: 16.5ms | ActiveRecord: 17.1ms | Allocations: 6806)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:51:23 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
Completed 500 Internal Server Error in 156ms (ActiveRecord: 38.1ms | Allocations: 3002)


  
NameError (undefined local variable or method `sql' for #<MessagesController:0x0000000028a5a0>

        @data = ActiveRecord::Base.connection.execute(sql)
                                                      ^^^
Did you mean?  @sql):
  
app/controllers/messages_controller.rb:56:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:51:37 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (65.6ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id I
        NNER JOIN applications on applications.id 
        WHERE applications.token = '["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"]' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:56:in `updateMessage'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 65.6ms | Allocations: 605)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'I
        NNER JOIN applications on applications.id 
        WHERE applications.' at line 3):
  
app/controllers/messages_controller.rb:56:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:51:57 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (93.9ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = '["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"]' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:55:in `updateMessage'
Completed 200 OK in 96ms (Views: 0.3ms | ActiveRecord: 93.9ms | Allocations: 602)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:53:07 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = ["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"] and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:55:in `updateMessage'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.5ms | Allocations: 602)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"] and chats.number = 1 and messages.number ' at line 4):
  
app/controllers/messages_controller.rb:55:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:53:24 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = '["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"]' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:56:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 601)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:54:14 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:56:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 617)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:54:42 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = ["1", "1"] and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:57:in `updateMessage'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.7ms | Allocations: 603)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '["1", "1"] and messages.number = 1 
        group by messages.number' at line 4):
  
app/controllers/messages_controller.rb:57:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:55:21 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'h' and chats.number = ["1", "1"] and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:57:in `updateMessage'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.5ms | Allocations: 604)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '["1", "1"] and messages.number = 1 
        group by messages.number' at line 4):
  
app/controllers/messages_controller.rb:57:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:55:29 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:56:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 618)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:55:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = '["hh14rkDCY1LTwDmcEVrBoGvs", "1", "1"]' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:56:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 600)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:55:42 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = ["1", "1"] and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:57:in `updateMessage'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.5ms | Allocations: 603)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '["1", "1"] and messages.number = 1 
        group by messages.number' at line 4):
  
app/controllers/messages_controller.rb:57:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:55:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 615)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:56:16 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 131ms (ActiveRecord: 0.6ms | Allocations: 2057)


  
NoMethodError (undefined method `[]' for #<Mysql2::Result:0x00007f89c41c3720 @query_options={:as=>:array, :async=>false, :cast_booleans=>false, :symbolize_keys=>false, :database_timezone=>:utc, :application_timezone=>nil, :cache_rows=>true, :connect_flags=>2148540933, :cast=>true, :default_file=>nil, :default_group=>nil, :adapter=>"mysql2", :encoding=>"utf8mb4", :pool=>5, :username=>"omar", :password=>"instabug", :socket=>"/var/run/mysqld/mysqld.sock", :database=>"Instabug_Backend_Challenge_development", :flags=>2}, @server_flags={:no_good_index_used=>false, :no_index_used=>true, :query_was_slow=>false}>

        render json: @data[0][0]
                          ^^^):
  
app/controllers/messages_controller.rb:59:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:56:26 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.8ms | Allocations: 2045)


  
NoMethodError (undefined method `[]' for #<Mysql2::Result:0x00007f89c7e84718 @query_options={:as=>:array, :async=>false, :cast_booleans=>false, :symbolize_keys=>false, :database_timezone=>:utc, :application_timezone=>nil, :cache_rows=>true, :connect_flags=>2148540933, :cast=>true, :default_file=>nil, :default_group=>nil, :adapter=>"mysql2", :encoding=>"utf8mb4", :pool=>5, :username=>"omar", :password=>"instabug", :socket=>"/var/run/mysqld/mysqld.sock", :database=>"Instabug_Backend_Challenge_development", :flags=>2}, @server_flags={:no_good_index_used=>false, :no_index_used=>true, :query_was_slow=>false}>

        render json: @data[0,0]
                          ^^^^^):
  
app/controllers/messages_controller.rb:59:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:56:33 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.9ms | Allocations: 2044)


  
NoMethodError (undefined method `[]' for #<Mysql2::Result:0x00007f89c6473838 @query_options={:as=>:array, :async=>false, :cast_booleans=>false, :symbolize_keys=>false, :database_timezone=>:utc, :application_timezone=>nil, :cache_rows=>true, :connect_flags=>2148540933, :cast=>true, :default_file=>nil, :default_group=>nil, :adapter=>"mysql2", :encoding=>"utf8mb4", :pool=>5, :username=>"omar", :password=>"instabug", :socket=>"/var/run/mysqld/mysqld.sock", :database=>"Instabug_Backend_Challenge_development", :flags=>2}, @server_flags={:no_good_index_used=>false, :no_index_used=>true, :query_was_slow=>false}>

        render json: @data[0]
                          ^^^):
  
app/controllers/messages_controller.rb:59:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:56:40 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.9ms | Allocations: 614)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:56:57 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.7ms | Allocations: 2045)


  
NoMethodError (undefined method `[]' for #<Mysql2::Result:0x00007f89c6448728 @query_options={:as=>:array, :async=>false, :cast_booleans=>false, :symbolize_keys=>false, :database_timezone=>:utc, :application_timezone=>nil, :cache_rows=>true, :connect_flags=>2148540933, :cast=>true, :default_file=>nil, :default_group=>nil, :adapter=>"mysql2", :encoding=>"utf8mb4", :pool=>5, :username=>"omar", :password=>"instabug", :socket=>"/var/run/mysqld/mysqld.sock", :database=>"Instabug_Backend_Challenge_development", :flags=>2}, @server_flags={:no_good_index_used=>false, :no_index_used=>true, :query_was_slow=>false}>

        render json: @data[0]
                          ^^^):
  
app/controllers/messages_controller.rb:59:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:58:23 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages 
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 638)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:58:46 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 637)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:59:12 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (14.5ms)[0m  [1m[34mSELECT messages.*, chats.*, applications.* 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 14.5ms | Allocations: 614)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'Instabug_Backend_Challenge_development.messages.id' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by):
  
app/controllers/messages_controller.rb:58:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 06:59:30 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 636)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 06:59:38 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 456)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 06:59:45 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT messages.number, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 456)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 07:00:04 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.number;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.7ms | Allocations: 614)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'Instabug_Backend_Challenge_development.messages.message_body' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by):
  
app/controllers/messages_controller.rb:58:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 07:00:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (20.0ms)[0m  [1m[34mSELECT messages.message_body, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.number, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 20.0ms | Allocations: 652)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 07:00:45 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT messages.message_body, messages.id chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms | Allocations: 614)


  
ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.number, applications.token 
        from messages
        INNER JOIN chats on c' at line 1):
  
app/controllers/messages_controller.rb:58:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 07:00:52 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 662)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:01:06 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/1" for ::1 at 2022-04-23 07:01:17 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"1"}
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/2" for ::1 at 2022-04-23 07:01:22 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"2"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:01:27 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/2" for ::1 at 2022-04-23 07:01:47 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"2"}
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:01:56 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:02:02 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:02:09 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 481)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/2" for ::1 at 2022-04-23 07:02:17 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"2"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 481)


Started GET "/applications/hh14rkDCY1LTwDmcEVrBoGvs/1" for ::1 at 2022-04-23 07:04:16 +0200
  
ActionController::RoutingError (No route matches [GET] "/applications/hh14rkDCY1LTwDmcEVrBoGvs/1"):
  
Started GET "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1" for ::1 at 2022-04-23 07:04:27 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 50ms (Views: 6.3ms | ActiveRecord: 7.3ms | Allocations: 5684)


Started GET "/applications" for ::1 at 2022-04-23 07:06:09 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 22ms (Views: 7.0ms | ActiveRecord: 5.1ms | Allocations: 3571)


Started GET "/applications" for ::1 at 2022-04-23 07:06:40 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 935)


Started GET "/applications" for ::1 at 2022-04-23 07:07:24 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.7ms | Allocations: 919)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 07:07:46 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (23.0ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 25.3ms | Allocations: 3919)


  
NoMethodError (undefined method `[]' for nil:NilClass

            @number = @lastChat[0]['MAX(number)'] + 1
                                  ^^^^^^^^^^^^^^^):
  
app/controllers/chats_controller.rb:14:in `createChat'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 07:11:56 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 8.2ms | Allocations: 5803)


  
TypeError (no implicit conversion of Integer into Array):
  
app/controllers/chats_controller.rb:14:in `createChat'
Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-23 07:12:13 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Exists? (8.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:11:in `createChat'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (16.9ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-23 05:12:14.023420' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (134.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (1.2ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (83.0ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-23 05:12:14.186987', '2022-04-23 05:12:14.186987', 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (232.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 538ms (Views: 0.2ms | ActiveRecord: 501.2ms | Allocations: 12695)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:13:08 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mApplication Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.1ms | Allocations: 1303)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'application_id' in 'where clause'):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:14:10 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mApplication Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM `applications` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 5.8ms | Allocations: 4331)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'application_id' in 'where clause'):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:14:52 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (2.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mApplication Load (1.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`application_id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:28:in `getAllChats'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 8.8ms | Allocations: 4350)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'applications.application_id' in 'where clause'):
  
app/controllers/chats_controller.rb:28:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:16:16 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 40ms (Views: 5.7ms | ActiveRecord: 17.1ms | Allocations: 7861)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:16:43 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 9ms (Views: 3.9ms | ActiveRecord: 1.3ms | Allocations: 1861)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:17:59 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"MessageBody"=>"1st Message-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 2.5ms | Allocations: 2093)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:18:09 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"1st Message-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', '1st Message-1st Chat-1st App') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (6.2ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, '1st Message-1st Chat-1st App', '2022-04-23 05:18:10.014011', '2022-04-23 05:18:10.014011', 1)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (117.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (0.7ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-23 05:18:10.148015' WHERE `chats`.`id` = 11[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (91.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 259ms (Views: 0.2ms | ActiveRecord: 221.9ms | Allocations: 10007)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:18:19 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 12ms (Views: 2.2ms | ActiveRecord: 1.8ms | Allocations: 1827)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:19:06 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"2nd Message-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', '2nd Message-1st Chat-1st App') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Load (12.6ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (16.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, '2nd Message-1st Chat-1st App', '2022-04-23 05:19:06.106462', '2022-04-23 05:19:06.106462', 2)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (111.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (13.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 2, `chats`.`updated_at` = '2022-04-23 05:19:06.256653' WHERE `chats`.`id` = 11[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (174.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 370ms (Views: 0.2ms | ActiveRecord: 331.7ms | Allocations: 7985)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-23 07:19:10 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:29:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 1.3ms | Allocations: 1820)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/2" for ::1 at 2022-04-23 07:19:17 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"2"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 441)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:19:25 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 473)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:19:31 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 473)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:19:36 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 473)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/3" for ::1 at 2022-04-23 07:20:11 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"3"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 3 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 437)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/3" for ::1 at 2022-04-23 07:20:39 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/messages_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
app/controllers/messages_controller.rb:94: syntax error, unexpected end-of-input, expecting `end'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/3" for ::1 at 2022-04-23 07:20:46 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"3"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 3 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 612)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/3" for ::1 at 2022-04-23 07:20:54 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"3"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 3 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 3ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 692)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/messages_controller.rb:62:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/3" for ::1 at 2022-04-23 07:21:10 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"3"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 3 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 595)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:21:17 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 490)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGva/1/2" for ::1 at 2022-04-23 07:21:22 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGva' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 432)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/2/2" for ::1 at 2022-04-23 07:21:31 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"2", "messageNumber"=>"2"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 2 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 431)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:21:37 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 473)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:22:43 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.8ms | Allocations: 662)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:22:54 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.7ms | Allocations: 2510)


  
NoMethodError (undefined method `id' for {"message_body"=>"2nd Message-1st Chat-1st App", "id"=>45, "number"=>1, "token"=>"hh14rkDCY1LTwDmcEVrBoGvs"}:Hash

            render json: @data[0].id
                                 ^^^):
  
app/controllers/messages_controller.rb:63:in `updateMessage'
Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:23:08 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.7ms | Allocations: 613)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/2" for ::1 at 2022-04-23 07:23:47 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"FIRST UPDATE MESSAGE", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"2"}
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 2 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 654)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:25:12 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"1st Message UPDATE-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.message_body, messages.id, chats.number, applications.token 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`id` = 44 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mChat Load (8.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mMessage Update (14.3ms)[0m  [1m[33mUPDATE `messages` SET `messages`.`message_body` = '1st Message UPDATE-1st Chat-1st App', `messages`.`updated_at` = '2022-04-23 05:25:12.910701' WHERE `messages`.`id` = 44[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (129.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
Completed 200 OK in 214ms (Views: 0.2ms | ActiveRecord: 165.5ms | Allocations: 10301)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:26:26 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 1.0ms | Allocations: 1617)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:28:41 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"1st Message-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT messages.id 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id, messages.message_body;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`id` = 44 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mMessage Update (9.8ms)[0m  [1m[33mUPDATE `messages` SET `messages`.`message_body` = '1st Message-1st Chat-1st App', `messages`.`updated_at` = '2022-04-23 05:28:42.126340' WHERE `messages`.`id` = 44[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (83.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
Completed 200 OK in 153ms (Views: 0.2ms | ActiveRecord: 127.0ms | Allocations: 10203)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:28:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 3.2ms | ActiveRecord: 1.5ms | Allocations: 1617)


Started PATCH "/messages/hh14rkDCY1LTwDmcEVrBoGvs/1/1" for ::1 at 2022-04-23 07:29:19 +0200
Processing by MessagesController#updateMessage as */*
  Parameters: {"MessageBody"=>"1st MessageUPDATE-1st Chat-1st App", "token"=>"[FILTERED]", "chatNumber"=>"1", "messageNumber"=>"1"}
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT messages.id 
        from messages
        INNER JOIN chats on chats.id INNER JOIN applications on applications.id 
        WHERE applications.token = 'hh14rkDCY1LTwDmcEVrBoGvs' and chats.number = 1 and messages.number = 1 
        group by messages.id;[0m
  â†³ app/controllers/messages_controller.rb:58:in `updateMessage'
  [1m[36mMessage Load (7.2ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` WHERE `messages`.`id` = 44 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mMessage Update (1.9ms)[0m  [1m[33mUPDATE `messages` SET `messages`.`message_body` = '1st MessageUPDATE-1st Chat-1st App', `messages`.`updated_at` = '2022-04-23 05:29:20.061316' WHERE `messages`.`id` = 44[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
  [1m[36mTRANSACTION (136.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:62:in `updateMessage'
Completed 200 OK in 205ms (Views: 0.3ms | ActiveRecord: 162.9ms | Allocations: 10200)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-23 07:29:21 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 8ms (Views: 2.1ms | ActiveRecord: 2.9ms | Allocations: 1617)


Started GET "/applications" for ::1 at 2022-04-25 02:25:53 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (115.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (4.0ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 46ms (Views: 13.0ms | ActiveRecord: 21.5ms | Allocations: 8907)


Started GET "/applications" for ::1 at 2022-04-25 02:29:11 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 27ms (Views: 12.2ms | ActiveRecord: 6.1ms | Allocations: 8904)


Started GET "/applications" for 172.18.0.1 at 2022-04-25 02:06:59 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for 172.18.0.1 at 2022-04-25 02:08:11 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 02:08:19 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 172.18.0.1 at 2022-04-25 02:08:20 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 02:13:21 +0000
  [1m[35m (636.5ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (802.6ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (6.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 03:03:35 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 03:06:15 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 172.18.0.1 at 2022-04-25 03:06:15 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 03:06:19 +0000
  
ActiveRecord::ConnectionNotEstablished (Can't connect to MySQL server on 'db' (115)):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:53:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 12:44:50 +0000
  [1m[35m (1099.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (674.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (18.7ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 172.18.0.1 at 2022-04-25 12:44:52 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for 172.18.0.1 at 2022-04-25 12:44:57 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 12:46:06 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 172.18.0.1 at 2022-04-25 12:46:07 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 172.18.0.1 at 2022-04-25 12:46:07 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 5 pending migrations:

20220419020139_create_applications.rb
20220419020318_create_chats.rb
20220419020345_create_messages.rb
20220419033725_set_counts_default_value.rb
20220422195344_add_number_to_chats_messages.rb


):
  
activerecord (7.0.2.3) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.2.3) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.2.3) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.2.3) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/rails/actions" for 172.18.0.1 at 2022-04-25 12:46:12 +0000
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateApplications (20220419020139)
  [1m[35m (1150.4ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `name` varchar(255), `chats_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020139')[0m
  [1m[36mTRANSACTION (210.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20220419020318)
  [1m[35m (668.5ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `messages_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_chats_on_application_id` (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020318')[0m
  [1m[36mTRANSACTION (106.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20220419020345)
  [1m[35m (692.9ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `chat_id` bigint NOT NULL, `message_body` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_messages_on_chat_id` (`chat_id`), CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020345')[0m
  [1m[36mTRANSACTION (233.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetCountsDefaultValue (20220419033725)
  [1m[35m (148.8ms)[0m  [1m[35mALTER TABLE `applications` CHANGE `chats_count` `chats_count` int DEFAULT 0[0m
  [1m[35m (175.2ms)[0m  [1m[35mALTER TABLE `chats` CHANGE `messages_count` `messages_count` int DEFAULT 0[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419033725')[0m
  [1m[36mTRANSACTION (195.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNumberToChatsMessages (20220422195344)
  [1m[35m (456.9ms)[0m  [1m[35mALTER TABLE `chats` ADD `number` int NOT NULL[0m
  [1m[35m (346.9ms)[0m  [1m[35mALTER TABLE `messages` ADD `number` int NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220422195344')[0m
  [1m[36mTRANSACTION (96.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2022-04-25 12:46:16.999222', '2022-04-25 12:46:16.999222')[0m
  [1m[36mTRANSACTION (81.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/" for 172.18.0.1 at 2022-04-25 12:46:17 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.0.2.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.0.2.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 14.6ms | Allocations: 331)
Completed 200 OK in 32ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 2619)


Started GET "/applications" for 172.18.0.1 at 2022-04-25 12:46:42 +0000
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 23ms (Views: 2.4ms | ActiveRecord: 0.4ms | Allocations: 2727)


Started POST "/applications" for 172.18.0.1 at 2022-04-25 12:47:21 +0000
Processing by ApplicationsController#createApplication as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 144)


Started POST "/applications?Name=First%20App" for 172.18.0.1 at 2022-04-25 12:47:33 +0000
Processing by ApplicationsController#createApplication as */*
  Parameters: {"Name"=>"First App"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mApplication Create (0.4ms)[0m  [1m[32mINSERT INTO `applications` (`token`, `name`, `chats_count`, `created_at`, `updated_at`) VALUES ('NqWBq878HJqkh4qFc6JepEcB', 'First App', 0, '2022-04-25 12:47:33.329312', '2022-04-25 12:47:33.329312')[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
  [1m[36mTRANSACTION (67.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/applications_controller.rb:14:in `createApplication'
Completed 200 OK in 90ms (Views: 0.2ms | ActiveRecord: 75.1ms | Allocations: 4899)


Started GET "/applications" for 172.18.0.1 at 2022-04-25 12:47:37 +0000
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 901)


Started GET "/applications" for 172.18.0.1 at 2022-04-25 14:30:21 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (8.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (4.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 35ms (Views: 12.6ms | ActiveRecord: 10.2ms | Allocations: 8803)


Started POST "/applications/NqWBq878HJqkh4qFc6JepEcB" for 172.18.0.1 at 2022-04-25 14:30:45 +0000
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Exists? (36.1ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:11:in `createChat'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (0.7ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 1, `applications`.`updated_at` = '2022-04-25 14:30:45.263014' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (95.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (16.5ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-25 14:30:45.476280', '2022-04-25 14:30:45.476280', 1)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (109.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 415ms (Views: 0.2ms | ActiveRecord: 262.7ms | Allocations: 15019)


Started POST "/messages/NqWBq878HJqkh4qFc6JepEcB/1" for 172.18.0.1 at 2022-04-25 14:31:15 +0000
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello world", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('NqWBq878HJqkh4qFc6JepEcB', '1', 'Hello world') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (1, 'Hello world', '2022-04-25 14:31:15.638059', '2022-04-25 14:31:15.638059', 1)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (222.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
Completed 500 Internal Server Error in 294ms (ActiveRecord: 228.6ms | Allocations: 11760)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Cannot assign requested address - connect(2) for [::1]:9200)):
  
app/controllers/messages_controller.rb:35:in `createMessage'
Started GET "/messages/NqWBq878HJqkh4qFc6JepEcB/1" for 172.18.0.1 at 2022-04-25 14:31:54 +0000
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 34ms (Views: 3.0ms | ActiveRecord: 1.2ms | Allocations: 3677)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for 172.18.0.1 at 2022-04-25 14:35:14 +0000
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.5ms | Allocations: 1705)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:28:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for 172.18.0.1 at 2022-04-25 14:38:01 +0000
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 15ms (Views: 0.2ms | ActiveRecord: 2.3ms | Allocations: 4540)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:31:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:38:19 +0200
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: .

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:49:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for 172.18.0.1 at 2022-04-25 14:39:48 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (32.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (30.7ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 52ms (Views: 0.3ms | ActiveRecord: 33.6ms | Allocations: 8433)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:31:in `getAllChats'
Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:44:11 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (9.9ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 69ms (Views: 5.4ms | ActiveRecord: 18.1ms | Allocations: 14471)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:44:30 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1829)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:31:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:44:57 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 10ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 4510)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:45:15 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 1721)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:45:33 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1613)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:45:36 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1613)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:45:38 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 500 Internal Server Error in 3ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1625)


  
NoMethodError (undefined method `id' for nil:NilClass

        @chats = Chat.where("application_id = #{@application.id}")
                                                            ^^^):
  
app/controllers/chats_controller.rb:29:in `getAllChats'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:46:09 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 2476)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:46:44 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/chats_controller.rb:41: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/chats_controller.rb:41: syntax error, unexpected end-of-input, expecting `end'
app/controllers/chats_controller.rb:41: syntax error, unexpected end-of-input, expecting `end'
Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:46:57 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 2492)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:47:22 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2482)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:47:34 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 601)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:47:42 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 580)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:47:53 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms | Allocations: 2480)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for ::1 at 2022-04-25 16:48:49 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 2497)


Started GET "/applications" for ::1 at 2022-04-25 16:49:13 +0200
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 2.7ms | Allocations: 2447)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:49:21 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello world", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', 'Hello world') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (41.7ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Load (49.8ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (8.9ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (333.0ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, 'Hello world', '2022-04-25 14:49:21.450324', '2022-04-25 14:49:21.450324', 3)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (177.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
Completed 500 Internal Server Error in 702ms (ActiveRecord: 655.4ms | Allocations: 16372)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:35:in `createMessage'
Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:49:31 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 1.3ms | Allocations: 2189)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EPs/1" for ::1 at 2022-04-25 16:49:42 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.8ms | Allocations: 1560)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EPsssss/1" for ::1 at 2022-04-25 16:49:46 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 1.0ms | Allocations: 1533)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:49:53 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 1.1ms | Allocations: 1533)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:50:18 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.7ms | ActiveRecord: 1.4ms | Allocations: 1533)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:50:28 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 1.5ms | Allocations: 1966)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:52:06 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello worldssss", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', 'Hello worldssss') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mMessage Create (15.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, 'Hello worldssss', '2022-04-25 14:52:07.128051', '2022-04-25 14:52:07.128051', 4)[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (202.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 500 Internal Server Error in 274ms (ActiveRecord: 230.3ms | Allocations: 15545)


  
Faraday::ConnectionFailed (Failed to open TCP connection to localhost:9200 (Connection refused - connect(2) for 127.0.0.1:9200)):
  
app/controllers/messages_controller.rb:36:in `createMessage'
Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:52:38 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 1.1ms | Allocations: 1728)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:52:43 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 9ms (Views: 2.7ms | ActiveRecord: 1.4ms | Allocations: 2358)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:53:42 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 1.4ms | Allocations: 1823)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:55:31 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', 'Hello') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, 'Hello', '2022-04-25 14:55:31.915888', '2022-04-25 14:55:31.915888', 5)[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (72.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mChat Update (77.8ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 3, `chats`.`updated_at` = '2022-04-25 14:55:31.997663' WHERE `chats`.`id` = 11[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mTRANSACTION (70.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
Completed 200 OK in 282ms (Views: 0.2ms | ActiveRecord: 235.1ms | Allocations: 17762)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:56:15 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 1.2ms | Allocations: 1780)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:56:22 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.0ms | ActiveRecord: 1.4ms | Allocations: 2351)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:57:57 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 1.3ms | Allocations: 1823)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:58:05 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello OMARRR", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', 'Hello OMARRR') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:28:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:31:in `createMessage'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mMessage Create (0.5ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, 'Hello OMARRR', '2022-04-25 14:58:05.679724', '2022-04-25 14:58:05.679724', 6)[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (217.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 6, `chats`.`updated_at` = '2022-04-25 14:58:05.904629' WHERE `chats`.`id` = 11[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
  [1m[36mTRANSACTION (170.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:37:in `createMessage'
Completed 200 OK in 415ms (Views: 0.1ms | ActiveRecord: 394.4ms | Allocations: 8064)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 16:58:09 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:27:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:32:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:35:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.5ms | ActiveRecord: 1.3ms | Allocations: 1820)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:58:54 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
...ated is " + @newMessage.number}
...                              ^
):
  
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:59:05 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
...Number of message created is "} + @newMessage.number
...                              ^
):
  
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:59:26 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
...ated is #{@newMessage.number}"}
...                              ^
):
  
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:59:46 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
...ated is #{@newMessage.number}"}, status:200
...                              ^
):
  
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 16:59:53 +0200
  
SyntaxError (/home/omar/Desktop/Instabug-Backend-Challenge/app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
...ated is #{@newMessage.number}"}, status:200
...                              ^
):
  
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
app/controllers/messages_controller.rb:37: syntax error, unexpected '}', expecting =>
Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 17:00:15 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 15ms (Views: 5.4ms | ActiveRecord: 5.0ms | Allocations: 4840)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 17:00:22 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello OMARRRsssss", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '1', 'Hello OMARRRsssss') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=11)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 11 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (11, 'Hello OMARRRsssss', '2022-04-25 15:00:22.584278', '2022-04-25 15:00:22.584278', 7)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (87.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 7, `chats`.`updated_at` = '2022-04-25 15:00:22.678915' WHERE `chats`.`id` = 11[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (92.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 232ms (Views: 0.2ms | ActiveRecord: 192.4ms | Allocations: 14737)


Started POST "/applications/NqWBq878HJqkh4qFc6JepEcB" for ::1 at 2022-04-25 17:01:07 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
Completed 500 Internal Server Error in 13ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 4607)


  
NoMethodError (undefined method `id' for nil:NilClass

        @lastChat = Chat.select('MAX(number)').group(:application_id).having('application_id=' + (@application.id).to_s)
                                                                                                              ^^^):
  
app/controllers/chats_controller.rb:9:in `createChat'
Started POST "/applications/NqWBq878HJqkh4qFc6JepEcB" for ::1 at 2022-04-25 17:01:43 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
Completed 400 Bad Request in 7ms (Views: 0.3ms | ActiveRecord: 1.5ms | Allocations: 2515)


Started POST "/applications/NqWBq878HJqkh4qFc6JepEcB" for ::1 at 2022-04-25 17:01:58 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
Completed 400 Bad Request in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2502)


Started POST "/applications/qASiAM6P6F2HvUmLMwmqe7EP" for ::1 at 2022-04-25 17:02:11 +0200
Processing by ChatsController#createChat as */*
  Parameters: {"Name"=>"Second Application", "token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:4:in `createChat'
  [1m[36mChat Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:11:in `createChat'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT MAX(number) FROM `chats` GROUP BY `chats`.`application_id` HAVING (application_id=1)[0m
  â†³ app/controllers/chats_controller.rb:14:in `createChat'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mApplication Update (0.4ms)[0m  [1m[33mUPDATE `applications` SET `applications`.`chats_count` = 2, `applications`.`updated_at` = '2022-04-25 15:02:11.049251' WHERE `applications`.`id` = 1[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (76.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:17:in `createChat'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mChat Create (0.4ms)[0m  [1m[32mINSERT INTO `chats` (`application_id`, `messages_count`, `created_at`, `updated_at`, `number`) VALUES (1, 0, '2022-04-25 15:02:11.135772', '2022-04-25 15:02:11.135772', 2)[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
  [1m[36mTRANSACTION (91.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/chats_controller.rb:18:in `createChat'
Completed 200 OK in 218ms (Views: 0.2ms | ActiveRecord: 189.9ms | Allocations: 11476)


Started GET "/applications/qASiAM6P6F2HvUmLMwmqe7EP/chats" for ::1 at 2022-04-25 17:02:15 +0200
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'qASiAM6P6F2HvUmLMwmqe7EP' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:28:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:33:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:36:in `getAllChats'
Completed 200 OK in 7ms (Views: 2.4ms | ActiveRecord: 1.5ms | Allocations: 1967)


Started POST "/messages/qASiAM6P6F2HvUmLMwmqe7EP/2" for ::1 at 2022-04-25 17:02:24 +0200
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello OMARRRsssss", "token"=>"[FILTERED]", "chatNumber"=>"2"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('qASiAM6P6F2HvUmLMwmqe7EP', '2', 'Hello OMARRRsssss') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=12) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 12 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (0.4ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (12, 'Hello OMARRRsssss', '2022-04-25 15:02:24.320449', '2022-04-25 15:02:24.320449', 1)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (83.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.3ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (0.4ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-25 15:02:24.411492' WHERE `chats`.`id` = 12[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (94.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 184.6ms | Allocations: 11088)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/2" for ::1 at 2022-04-25 17:02:32 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"2"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 1.0ms | Allocations: 1444)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/2" for ::1 at 2022-04-25 17:04:09 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"2"}
  [1m[36mMessage Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 2[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 1.2ms | Allocations: 1355)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 17:04:30 +0200
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.7ms | Allocations: 1886)


Started GET "/messages/qASiAM6P6F2HvUmLMwmqe7EP/1" for ::1 at 2022-04-25 17:04:50 +0200
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting to your database with your username/password, username: .

Please check your database configuration to ensure the username/password are valid.
):
  
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:49:in `rescue in new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:43:in `new_client'
activerecord (7.0.2.3) lib/active_record/connection_adapters/mysql2_adapter.rb:23:in `mysql2_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.2.3) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.2.3) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.2.3) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.2.3) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.2.3) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.2.3) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.2.3) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.2.3) lib/rails/rack/logger.rb:36:in `call_app'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.2.3) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.2.3) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/server_timing.rb:20:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.2.3) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.2.3) lib/rails/engine.rb:530:in `call'
puma (5.6.4) lib/puma/configuration.rb:252:in `call'
puma (5.6.4) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.4) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.4) lib/puma/request.rb:76:in `handle_request'
puma (5.6.4) lib/puma/server.rb:441:in `process_client'
puma (5.6.4) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/applications" for 172.18.0.1 at 2022-04-25 15:05:31 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (21.8ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (10.8ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 49ms (Views: 9.8ms | ActiveRecord: 27.7ms | Allocations: 8803)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for 172.18.0.1 at 2022-04-25 15:05:40 +0000
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.6ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:28:in `getAllChats'
  [1m[36mChat Exists? (14.0ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:33:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:36:in `getAllChats'
Completed 200 OK in 49ms (Views: 7.0ms | ActiveRecord: 18.7ms | Allocations: 6772)


Started GET "/messages/NqWBq878HJqkh4qFc6JepEcB/1" for 172.18.0.1 at 2022-04-25 15:05:48 +0000
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 25ms (Views: 7.8ms | ActiveRecord: 6.2ms | Allocations: 5081)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for 172.18.0.1 at 2022-04-25 15:05:54 +0000
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:28:in `getAllChats'
  [1m[36mChat Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:33:in `getAllChats'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:36:in `getAllChats'
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 1.8ms | Allocations: 1898)


Started POST "/messages/NqWBq878HJqkh4qFc6JepEcB/2" for 172.18.0.1 at 2022-04-25 15:06:31 +0000
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello WORLD", "token"=>"[FILTERED]", "chatNumber"=>"2"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('NqWBq878HJqkh4qFc6JepEcB', '2', 'Hello WORLD') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 2 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
Completed 400 Bad Request in 7ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 1529)


Started POST "/messages/NqWBq878HJqkh4qFc6JepEcB/1" for 172.18.0.1 at 2022-04-25 15:06:35 +0000
Processing by MessagesController#createMessage as */*
  Parameters: {"MessageBody"=>"Hello WORLD", "token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` IN ('NqWBq878HJqkh4qFc6JepEcB', '1', 'Hello WORLD') LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:14:in `createMessage'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`application_id` = 1 AND `chats`.`number` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:18:in `createMessage'
  [1m[36mMessage Exists? (22.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=1) LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:27:in `createMessage'
  [1m[36mMessage Load (12.6ms)[0m  [1m[34mSELECT MAX(number) FROM `messages` GROUP BY `messages`.`chat_id` HAVING (chat_id=1)[0m
  â†³ app/controllers/messages_controller.rb:30:in `createMessage'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE `chats`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mMessage Create (16.3ms)[0m  [1m[32mINSERT INTO `messages` (`chat_id`, `message_body`, `created_at`, `updated_at`, `number`) VALUES (1, 'Hello WORLD', '2022-04-25 15:06:35.677862', '2022-04-25 15:06:35.677862', 2)[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (104.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:35:in `createMessage'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`id` = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mChat Update (0.5ms)[0m  [1m[33mUPDATE `chats` SET `chats`.`messages_count` = 1, `chats`.`updated_at` = '2022-04-25 15:06:35.913200' WHERE `chats`.`id` = 1[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
  [1m[36mTRANSACTION (136.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/messages_controller.rb:36:in `createMessage'
Completed 200 OK in 443ms (Views: 0.2ms | ActiveRecord: 294.8ms | Allocations: 11907)


Started GET "/applications/NqWBq878HJqkh4qFc6JepEcB/chats" for 172.18.0.1 at 2022-04-25 15:06:40 +0000
Processing by ChatsController#getAllChats as */*
  Parameters: {"token"=>"[FILTERED]"}
  [1m[36mApplication Load (0.5ms)[0m  [1m[34mSELECT `applications`.* FROM `applications` WHERE `applications`.`token` = 'NqWBq878HJqkh4qFc6JepEcB' LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:28:in `getAllChats'
  [1m[36mChat Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM `chats` WHERE (application_id = 1) LIMIT 1[0m
  â†³ app/controllers/chats_controller.rb:33:in `getAllChats'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT `chats`.* FROM `chats` WHERE (application_id = 1)[0m
  â†³ app/controllers/chats_controller.rb:36:in `getAllChats'
Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 1.5ms | Allocations: 1868)


Started GET "/messages/NqWBq878HJqkh4qFc6JepEcB/1" for 172.18.0.1 at 2022-04-25 15:06:44 +0000
Processing by MessagesController#getMessagesOfChat as */*
  Parameters: {"token"=>"[FILTERED]", "chatNumber"=>"1"}
  [1m[36mMessage Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1 LIMIT 1[0m
  â†³ app/controllers/messages_controller.rb:5:in `getMessagesOfChat'
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT `messages`.* FROM `messages` INNER JOIN chats ON chats.id = messages.chat_id and chats.number = 1[0m
  â†³ app/controllers/messages_controller.rb:6:in `getMessagesOfChat'
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 1.2ms | Allocations: 1465)


  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (553.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)[0m
  [1m[35m (959.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (96.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Migrating to CreateApplications (20220419020139)
  [1m[35m (824.1ms)[0m  [1m[35mCREATE TABLE `applications` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `token` varchar(255), `name` varchar(255), `chats_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020139')[0m
  [1m[36mTRANSACTION (88.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateChats (20220419020318)
  [1m[35m (670.9ms)[0m  [1m[35mCREATE TABLE `chats` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `application_id` bigint NOT NULL, `messages_count` int, `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_chats_on_application_id` (`application_id`), CONSTRAINT `fk_rails_3b5054ba3a`
FOREIGN KEY (`application_id`)
  REFERENCES `applications` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020318')[0m
  [1m[36mTRANSACTION (107.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateMessages (20220419020345)
  [1m[35m (580.2ms)[0m  [1m[35mCREATE TABLE `messages` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY, `chat_id` bigint NOT NULL, `message_body` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL, INDEX `index_messages_on_chat_id` (`chat_id`), CONSTRAINT `fk_rails_0f670de7ba`
FOREIGN KEY (`chat_id`)
  REFERENCES `chats` (`id`)
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419020345')[0m
  [1m[36mTRANSACTION (74.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetCountsDefaultValue (20220419033725)
  [1m[35m (122.3ms)[0m  [1m[35mALTER TABLE `applications` CHANGE `chats_count` `chats_count` int DEFAULT 0[0m
  [1m[35m (164.7ms)[0m  [1m[35mALTER TABLE `chats` CHANGE `messages_count` `messages_count` int DEFAULT 0[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220419033725')[0m
  [1m[36mTRANSACTION (73.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNumberToChatsMessages (20220422195344)
  [1m[35m (346.6ms)[0m  [1m[35mALTER TABLE `chats` ADD `number` int NOT NULL[0m
  [1m[35m (378.9ms)[0m  [1m[35mALTER TABLE `messages` ADD `number` int NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20220422195344')[0m
  [1m[36mTRANSACTION (85.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2022-04-25 20:42:41.819136', '2022-04-25 20:42:41.819136')[0m
  [1m[36mTRANSACTION (87.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE `Instabug_Backend_Challenge_development` DEFAULT CHARACTER SET `utf8`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('3188769534262984350', 0)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (30.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('3188769534262984350')[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Started GET "/applications" for 172.21.0.1 at 2022-04-25 20:48:57 +0000
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations` ORDER BY `schema_migrations`.`version` ASC[0m
Processing by ApplicationsController#getAllApplications as */*
  Parameters: {"MessageBody"=>"HELLO SECOND WORLD"}
  [1m[36mApplication Load (0.4ms)[0m  [1m[34mSELECT `applications`.* FROM `applications`[0m
  â†³ app/controllers/applications_controller.rb:6:in `getAllApplications'
Completed 200 OK in 46ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 6026)


